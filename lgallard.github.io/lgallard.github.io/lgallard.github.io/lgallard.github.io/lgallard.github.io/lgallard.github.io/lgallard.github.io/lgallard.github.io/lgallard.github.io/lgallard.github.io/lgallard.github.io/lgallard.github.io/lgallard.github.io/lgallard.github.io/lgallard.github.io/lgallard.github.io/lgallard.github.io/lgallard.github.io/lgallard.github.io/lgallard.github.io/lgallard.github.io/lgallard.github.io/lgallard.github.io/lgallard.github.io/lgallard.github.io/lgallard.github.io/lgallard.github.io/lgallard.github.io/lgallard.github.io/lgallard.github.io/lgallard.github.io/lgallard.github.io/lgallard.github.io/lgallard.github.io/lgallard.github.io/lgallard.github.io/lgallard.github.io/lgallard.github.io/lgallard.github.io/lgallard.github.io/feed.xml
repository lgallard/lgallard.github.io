<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="3.6.0">Jekyll</generator><link href="https://lgallardo.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://lgallardo.com/" rel="alternate" type="text/html" hreflang="en" /><updated>2021-02-09T16:52:51-06:00</updated><id>https://lgallardo.com/</id><title type="html">lgallardo.com</title><subtitle></subtitle><author><name>Luis M. Gallardo D.</name></author><entry><title type="html">Certified Kubernetes Administrator (CKA)</title><link href="https://lgallardo.com/2021/02/09/2021-02-09-certified-kubernetes-administrator-cka/" rel="alternate" type="text/html" title="Certified Kubernetes Administrator (CKA)" /><published>2021-02-08T18:00:00-06:00</published><updated>2021-02-08T18:00:00-06:00</updated><id>https://lgallardo.com/2021/02/09/certified-kubernetes-administrator-cka</id><content type="html" xml:base="https://lgallardo.com/2021/02/09/2021-02-09-certified-kubernetes-administrator-cka/">&lt;center&gt;&lt;img src=&quot;/images/cka.jpg&quot; alt=&quot;Certified Kubernetes Application Developer&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;This post describes my experience and recommendations for tackling the &lt;strong&gt;Certified Kubernetes Administrator (CKA)&lt;/strong&gt; exam by The Linux Foundation.&lt;/p&gt;

&lt;h1 id=&quot;the-exam&quot;&gt;The exam&lt;/h1&gt;

&lt;p&gt;The exam is 100% practical with about 20 questions that must be solved in 2 hours top, supervised by a proctor who verifies that you are alone during the exam, and that you follow &lt;a href=&quot;https://docs.linuxfoundation.org/tc-docs/certification/lf-candidate-handbook/exam-rules-and-policies&quot; target=&quot;_blank&quot;&gt;all rules&lt;/a&gt;. In my case, for this exam the proctor asked me to show a 360° view of the room and  below my desk. He also asked me from time to time to show him my hands.&lt;/p&gt;

&lt;p&gt;First off, this exam goes beyond the CKAD exam in terms of complexity, because you will face more difficult challenges, like fixing a broken cluster, or detecting why a service is not running properly and make it work again.&lt;/p&gt;

&lt;p&gt;In my case there were few easy questions and I’d say that most of them were medium to difficult, therefore be prepared! You must manage your time very well. Questions will be shown in a panel on the left side and you will have access to a web-based terminal where you have to execute the commands to solve them.&lt;/p&gt;

&lt;center&gt;&lt;img src=&quot;/images/exam_ui.jpg&quot; alt=&quot;Exam UI&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;There will be questions to create resources, others to identify and solve problems (troubleshooting &amp;amp; fixing). You can copy and paste from the instructions, in addition to having access to a place for notes, for example to keep track of pending questions.&lt;/p&gt;

&lt;p&gt;You will be able to consult the Kubernetes documentation from these sites &lt;a href=&quot;https://kubernetes.io/docs/&quot; target=&quot;_blank&quot;&gt;https://kubernetes.io/docs/&lt;/a&gt;, &lt;a href=&quot;https://github.com/kubernetes/&quot; target=&quot;_blank&quot;&gt;https://github.com/kubernetes/&lt;/a&gt;, &lt;a href=&quot;https://kubernetes.io/blog/&quot; target=&quot;_blank&quot;&gt;https://kubernetes.io/blog/&lt;/a&gt;, opening one and only one additional tab to the exam.&lt;/p&gt;

&lt;p&gt;You can take the exam with Chrome, so yo can access the sites mentioned above from your bookmarks (yes, it’s allowed)&lt;/p&gt;

&lt;h1 id=&quot;my-experience&quot;&gt;My experience&lt;/h1&gt;

&lt;p&gt;With this exam I didn’t face any trouble at all (check &lt;a href=&quot;https://lgallardo.com/es/2020/07/26/2020-07-26-certified-kubernetes-application-developer-ckad/&quot; target=&quot;_blank&quot;&gt;my experience with CKAD exam&lt;/a&gt;). I didn’t have a clock or progress bar to keep track of the time in the examination interface, but this time I was conscious about timing. The proctor only interrupted me 15 minutes before the end of the exam to let me know it was almost over.&lt;/p&gt;

&lt;p&gt;I went with a lot of expectations, but this time regarding the exam’s difficulty.&lt;/p&gt;

&lt;h1 id=&quot;how-to-prepare&quot;&gt;How to prepare?&lt;/h1&gt;
&lt;p&gt;There are several free and other paid resources, all are valid to prepare you, but practical experience is essential. I list some of them:&lt;/p&gt;

&lt;h2 id=&quot;books&quot;&gt;Books&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/gp/product/B072TS9ZQZ/ref=ppx_yo_dt_b_d_asin_title_o06?ie=UTF8&amp;amp;psc=1&quot; target=&quot;_blank&quot;&gt;The Kubernetes Book: Updated Feb 2020&lt;/a&gt;  by Nigel Poulton: This book is good for an overview of Kubernetes, and is an extension of Nigel’s course.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/Kubernetes-Running-Dive-Future-Infrastructure-ebook/dp/B07YP1XSZ9/ref=sr_1_1?dchild=1&amp;amp;keywords=kubernetes+up+and+running&amp;amp;qid=1595782565&amp;amp;s=digital-text&amp;amp;sr=1-1&quot; target=&quot;_blank&quot;&gt;Kubernetes up and running&lt;/a&gt;: This is an excellent book to learn Kubernetes, it covers various topics of CKAD and also of CKA.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;online-courses&quot;&gt;Online courses&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.udemy.com/course/certified-kubernetes-administrator-with-practice-tests/&quot; target=&quot;_blank&quot;&gt;Kubernetes Certified Administrator (CKA) with Tests (Mumshad Mannambeth)&lt;/a&gt;: This course is very well designed and explains in detail and with many animations the concepts necessary to learn how manage a Kubernetes cluster. Additionally, it gives access to a platform named &lt;em&gt;&lt;strong&gt;Kloud Kode&lt;/strong&gt;&lt;/em&gt; created with &lt;em&gt;&lt;strong&gt;Teachable&lt;/strong&gt;&lt;/em&gt; and with &lt;em&gt;&lt;strong&gt;Katacoda&lt;/strong&gt;&lt;/em&gt; environments designed for each topic covered, a exam-type lab (with a high degree of difficulty) and three exam mocks to practice and prepare you to work under the pressure as in the real exam.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;practice-environments&quot;&gt;Practice environments&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.killer.sh/&quot; target=&quot;_blank&quot;&gt;killer.sh simulator&lt;/a&gt;: This is a paid CKA exam simulator, close to the real exam experience and dificulty. It has 25 complex scenarios to solve in 120 minutes plus additional 5 extra ones. After the test session you will get access to detailed solutions. Keep in mind that you will only have access to two sessions (two simulations), but I guarantee that one will be more than enough.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/&quot; target=&quot;_blank&quot;&gt;Katacoda&lt;/a&gt;: This free platform allows you to interact with a cluster with just one node, from a web console, similar to what we would get in the exam. The interesting thing is there are scenarios created by other users that you can use to learn basic concepts, such as secrets, configmaps, volumes, etc. Please note that each scenario lasts a maximum of one hour.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/tools/install-minikube/&quot; target=&quot;_blank&quot;&gt;Minikube&lt;/a&gt;: With this option you can install a virtual machine to have your own cluster with a node.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;exercises-to-practice&quot;&gt;Exercises to practice&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/walidshaari/Kubernetes-Certified-Administrator&quot; target=&quot;_blank&quot;&gt;CKA Exercises&lt;/a&gt;:
A set of exercises that will help you prepare for the exam and can also help you learn and practice with Kubernetes.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;endnotes&quot;&gt;Endnotes&lt;/h1&gt;
&lt;p&gt;Again I recommend you to practice enough before taking the exam, even if you have experience with Kubernetes. Time management is important, so you must be prepared to use the Kubernetes documentation quickly (from the documentation page or from the console with kubectl), be prepared to generate yamls (not edit them), and handle nerves and pressure.&lt;/p&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.linuxfoundation.org/tc-docs/certification/lf-candidate-handbook/exam-rules-and-policies&quot; target=&quot;_blank&quot;&gt;Exam Rules and Policies&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/gp/product/B072TS9ZQZ/ref=ppx_yo_dt_b_d_asin_title_o06?ie=UTF8&amp;amp;psc=1&quot; target=&quot;_blank&quot;&gt;The Kubernetes Book: Updated Feb 2020&lt;/a&gt;  by Nigel Poulton.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/Kubernetes-Running-Dive-Future-Infrastructure-ebook/dp/B07YP1XSZ9/ref=sr_1_1?dchild=1&amp;amp;keywords=kubernetes+up+and+running&amp;amp;qid=1595782565&amp;amp;s=digital-text&amp;amp;sr=1-1&quot; target=&quot;_blank&quot;&gt;Kubernetes up and running&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.udemy.com/course/certified-kubernetes-administrator-with-practice-tests/&quot; target=&quot;_blank&quot;&gt;Kubernetes Certified Administrator (CKA) with Tests (Mumshad Mannambeth)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.killer.sh/&quot; target=&quot;_blank&quot;&gt;killer.sh simulator&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/&quot; target=&quot;_blank&quot;&gt;Katacoda&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/tools/install-minikube/&quot; target=&quot;_blank&quot;&gt;Minikube&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/walidshaari/Kubernetes-Certified-Administrator&quot; target=&quot;_blank&quot;&gt;CKA Exercises&lt;/a&gt;:&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="Kubernetes" /><category term="k8s" /><category term="EKS" /><summary type="html"></summary></entry><entry><title type="html">Mouse Logitech MX Anywhere 2s Flounder on Linux</title><link href="https://lgallardo.com/2020/08/06/2020-08-06-logitech-mx-anywhere-2s-flounder-on-linux/" rel="alternate" type="text/html" title="Mouse Logitech MX Anywhere 2s Flounder on Linux" /><published>2020-08-05T19:00:00-05:00</published><updated>2020-08-05T19:00:00-05:00</updated><id>https://lgallardo.com/2020/08/06/logitech-mx-anywhere-2s-flounder-on-linux</id><content type="html" xml:base="https://lgallardo.com/2020/08/06/2020-08-06-logitech-mx-anywhere-2s-flounder-on-linux/">&lt;center&gt;&lt;img src=&quot;/images/logitech-mouse.jpg&quot; alt=&quot;Logitech Mx Anywhere 2s Flounder on Linux&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;I bought a Logitech Mx Anywhere 2s Flounder mouse too free up a USB port, and be able to configure more buttons compared to the mouse I had.&lt;/p&gt;

&lt;p&gt;When you connect it on Linux, the mouse works the first time without doing any magic. The two buttons on the right side of the mouse are configured for Forward and Back in the browser and any application in general.&lt;/p&gt;

&lt;p&gt;For Windows and for Mac there’s a mouse software that allows you to customize these buttons (with gesture support as well), but for Linux that software is not available.&lt;/p&gt;

&lt;p&gt;If you want to map these buttons in Linux you should use something like &lt;strong&gt;xbindkeys&lt;/strong&gt; or &lt;strong&gt;xmodmap&lt;/strong&gt;. Here I explain what I had to do to get it working the way I wanted.&lt;/p&gt;

&lt;h2 id=&quot;1-install-the-necessary-software&quot;&gt;1. Install the necessary software&lt;/h2&gt;

&lt;p&gt;You will need &lt;strong&gt;xbindkeys&lt;/strong&gt; for maping the  keys, and &lt;strong&gt;xdotool&lt;/strong&gt; to execute keyboard actions.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;apt install xbindkeys xdotool&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;2-detecting-the-button-keys&quot;&gt;2. Detecting the button keys&lt;/h2&gt;

&lt;p&gt;You can find out what keys are associated to your mouse using &lt;strong&gt;xev&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;xev | grep button&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This will open a small white window which is where you should place the mouse pointer and press the buttons to obtain the values associated with each key:&lt;/p&gt;

&lt;center&gt;&lt;img src=&quot;/images/xev.jpg&quot; alt=&quot;xev&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;I tried all the buttons and their corresponding values are shown above, in the first image of this post above. In total there are 9 possible buttons / keys.&lt;/p&gt;

&lt;h2 id=&quot;3-buttons-mapping&quot;&gt;3. Buttons mapping&lt;/h2&gt;

&lt;p&gt;You need to create a file for &lt;strong&gt;xbindkeys&lt;/strong&gt; with the default options, which in fact is a file with some commented examples:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;xbindkeys --defaults &amp;gt; ~/.xbindkeysrc&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;And then add the mapping you want. In my case I added the following in the &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.xbindkeysrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&quot;guake&quot;
  b:9

&quot;xdotool key Super_L&quot;
  b:8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Finally you must run the command &lt;code class=&quot;highlighter-rouge&quot;&gt;xbindkeys&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$ xbindkeys&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Now pressing button 9 (Forward) will run &lt;strong&gt;Guake&lt;/strong&gt;, while if I press button 8 (Back) it strokes the &lt;code class=&quot;highlighter-rouge&quot;&gt;Super_L&lt;/code&gt; key (Start key or also badly known as the Windows key).&lt;/p&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.logitech.com/en-roeu/product/mx-anywhere-2s-flow.910-005153.html#specs&quot; target=&quot;_blank&quot;&gt;Logitech MX Anywhere 2S  &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://askubuntu.com/questions/101105/how-to-assign-back-and-forward-actions-to-logitech-anywhere-mouse-mx-horizo&quot; target=&quot;_blank&quot;&gt;How to assign “back” and “forward” actions to Logitech Anywhere Mouse MX’ horizontal scroll wheel?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.archlinux.org/index.php/Xbindkeys#Identifying_keycodes&quot; target=&quot;_blank&quot;&gt;Xbindkeys (ArchLinux)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="Linux" /><category term="Debian" /><summary type="html"></summary></entry><entry><title type="html">Certified Kubernetes Application Developer (CKAD)</title><link href="https://lgallardo.com/2020/07/26/2020-07-26-certified-kubernetes-application-developer-ckad/" rel="alternate" type="text/html" title="Certified Kubernetes Application Developer (CKAD)" /><published>2020-07-25T19:00:00-05:00</published><updated>2020-07-25T19:00:00-05:00</updated><id>https://lgallardo.com/2020/07/26/certified-kubernetes-application-developer-ckad</id><content type="html" xml:base="https://lgallardo.com/2020/07/26/2020-07-26-certified-kubernetes-application-developer-ckad/">&lt;center&gt;&lt;img src=&quot;/images/ckad.jpg&quot; alt=&quot;Certified Kubernetes Application Developer&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;I recently approved the &lt;strong&gt;Certified Kubernetes Application Developer (CKAD)&lt;/strong&gt; exam by The Linux Foundation, so I decided to share my experience and some recommendations to prepare for the exam.&lt;/p&gt;

&lt;h1 id=&quot;the-exam&quot;&gt;The exam&lt;/h1&gt;

&lt;p&gt;The exam is 100% practical with 19 questions that must be solved in 2 hours, supervised by a proctor who verifies that you are alone during the exam, and that you comply with &lt;a href=&quot;https://docs.linuxfoundation.org/tc-docs/certification/lf-candidate-handbook/exam-rules-and-policies&quot; target=&quot;_blank&quot;&gt;all rules&lt;/a&gt; (for example in my case he asked me to close all doors that gave access to my dining room, where I took the exam).&lt;/p&gt;

&lt;p&gt;Some questions will be easy, others will have several steps to follow, so you must manage your time very well. Questions will be shown in a panel on the left side and you will have access to a terminal where you must execute the commands to solve them.&lt;/p&gt;

&lt;center&gt;&lt;img src=&quot;/images/exam_ui.jpg&quot; alt=&quot;Exam UI&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;There will be questions to create resources and others to identify and solve problems (troubleshooting). You can copy and paste from the instructions, in addition to having access to a place for notes, for example to keep track of pending questions.&lt;/p&gt;

&lt;p&gt;You will be able to consult the Kubernetes documentation from these sites &lt;a href=&quot;https://kubernetes.io/docs/&quot; target=&quot;_blank&quot;&gt;https://kubernetes.io/docs/&lt;/a&gt;, &lt;a href=&quot;https://github.com/kubernetes/&quot; target=&quot;_blank&quot;&gt;https://github.com/kubernetes/&lt;/a&gt;, &lt;a href=&quot;https://kubernetes.io/blog/&quot; target=&quot;_blank&quot;&gt;https://kubernetes.io/blog/&lt;/a&gt;, opening one and only one additional tab to the exam.&lt;/p&gt;

&lt;p&gt;You can take the exam with Chrome, so yo can access the sites mentioned above from your bookmarks (yes, it’s allowed)&lt;/p&gt;

&lt;h1 id=&quot;my-experience&quot;&gt;My experience&lt;/h1&gt;
&lt;p&gt;I had some expectation because it’s a practical exam, and since it was the first of this style that I took, I didn’t know what to expect or how I was going to be able to handle time.&lt;/p&gt;

&lt;p&gt;During the exam, several things happened to me that delayed me, for example, when I used a Vim’s key combination to move between windows, I accidentally closed the exam, so I had to reconnect and contact the proctor.&lt;/p&gt;

&lt;p&gt;On the other hand, that day my Internet provider had problems and made my connection very slow, so changes in the yaml files were seen with delays of approximately 5 seconds.&lt;/p&gt;

&lt;p&gt;At some point the connection was completely lost, and the exam was closed, so I had to log in again and coordinate with the proctor.&lt;/p&gt;

&lt;p&gt;Another thing that happened was that the alarm on my nearby cell phone went off (I took the exam at 5:00 AM) so I asked the proctor for permission to turn it off, therefore he had to pause the exam.&lt;/p&gt;

&lt;p&gt;All these disconnections and pauses don’t stop the time, when the exam begins you have exactly 2 hours.
 exactas.&lt;/p&gt;

&lt;p&gt;Another drawback I had was that I did not have a clock to keep track of the time in the examination interface, but rather a progress bar that was sometimes missing, so the proctor reminded me of the remaining time every so often, interrupting my concentration.&lt;/p&gt;

&lt;h1 id=&quot;how-to-prepare&quot;&gt;How to prepare?&lt;/h1&gt;
&lt;p&gt;There are several free and other paid resources, all valid to prepare, but practical experience is essential. I list some of them:&lt;/p&gt;

&lt;h2 id=&quot;books&quot;&gt;Books&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/gp/product/B072TS9ZQZ/ref=ppx_yo_dt_b_d_asin_title_o06?ie=UTF8&amp;amp;psc=1&quot; target=&quot;_blank&quot;&gt;The Kubernetes Book: Updated Feb 2020&lt;/a&gt;  by Nigel Poulton: This book is good for an overview of Kubernetes, and is an extension of Nigel’s course (see below).&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/Kubernetes-Running-Dive-Future-Infrastructure-ebook/dp/B07YP1XSZ9/ref=sr_1_1?dchild=1&amp;amp;keywords=kubernetes+up+and+running&amp;amp;qid=1595782565&amp;amp;s=digital-text&amp;amp;sr=1-1&quot; target=&quot;_blank&quot;&gt;Kubernetes up and running&lt;/a&gt;: This is an excellent book to learn Kubernetes, it covers various topics of CKAD and also of CKA.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;online-courses&quot;&gt;Online courses&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.udemy.com/course/certified-kubernetes-application-developer/&quot; target=&quot;_blank&quot;&gt;Kubernetes Certified Application Developer (CKAD) with Tests (Mumshad Mannambeth)&lt;/a&gt;: This course is very well designed and explains in detail and with many animations the concepts necessary to learn how to deploy applications in a Kubernetes cluster. Additionally, it gives access to a platform named &lt;em&gt;&lt;strong&gt;Kloud Kode&lt;/strong&gt;&lt;/em&gt; created with &lt;em&gt;&lt;strong&gt;Teachable&lt;/strong&gt;&lt;/em&gt; and with &lt;em&gt;&lt;strong&gt;Katacoda&lt;/strong&gt;&lt;/em&gt; environments designed for each topic covered, two exam-type labs (with a high degree of difficulty) and two exams to practice and prepare to work under the pressure of the real exam. .&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://linuxacademy.com/course/certified-kubernetes-application-developer-ckad/&quot; target=&quot;_blank&quot;&gt;Certified Kubernetes Application Developer (CKAD) - Linux Academy&lt;/a&gt;: If you have a LinuxAcademy subscription you can follow this course. Keep two things in mind: 1) It focuses on editing yamls and little on how to generate them. 2) The exam mocks they have to practice are not so difficult and they may be insufficient to pass without having practiced beyond them. It’s recommended to do the labs, exams and other questions to exercise (see below)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://acloud.guru/learn/kubernetes-deep-dive&quot; target=&quot;_blank&quot;&gt;Kubernetes Deep Dive - A Cloud Guru&lt;/a&gt;: This course is to have an overview of Kubernetes, for example of its architecture (API Server, Kubelet, etc.) as well as to take the first steps in application deployments. No practical labs included.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://acloud.guru/learn/kubernetes-fundamental/&quot; target=&quot;_blank&quot;&gt;Kubernetes Fundamentals - A Cloud Guru&lt;/a&gt;: This course is to start with Kubernetes, to have the fundamental concepts. Ideal for those who have not had contact with Kubernetes. No practical labs included.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;practice-environments&quot;&gt;Practice environments&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/&quot; target=&quot;_blank&quot;&gt;Katacoda&lt;/a&gt;: This platform allows you to interact with a cluster with just one node, from a web console, similar to what we would get in the exam. The interesting thing is that there are scenarios created by other users that can be used to learn basic concepts, such as secrets, configmaps, volumes, etc. Please note that each scneario lasts a maximum of one hour.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/tools/install-minikube/&quot; target=&quot;_blank&quot;&gt;Minikube&lt;/a&gt;: With this option you can install a virtual machine to have your own cluster with a node.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;exercises-to-practice&quot;&gt;Exercises to practice&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dgkanatsios/CKAD-exercises&quot; target=&quot;_blank&quot;&gt;CKAD Exercises&lt;/a&gt;:
A set of exercises that will help you prepare for the exam and can also help you learn and practice with Kubernetes.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/bb-tutorials-and-thoughts/practice-enough-with-these-questions-for-the-ckad-exam-2f42d1228552&quot; target=&quot;_blank&quot;&gt;Practice Enough With These 150 Questions for the CKAD Exam&lt;/a&gt;:This is another set of exercises that serve to prepare you and have all the concepts fresh before going to the exam..&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://codeburst.io/kubernetes-ckad-weekly-challenges-overview-and-tips-7282b36a2681&quot; target=&quot;_blank&quot;&gt;Kubernetes CKAD Example Exam Questions Practical Challenge Series&lt;/a&gt;: This page presents some challenges to complete and some tips for the exam. They also offer an exam simulator at a cost of €30 (I didn’t subscribe, so I don’t know exactly what the simulator is like or if it really has similar exam questions).&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;endnotes&quot;&gt;Endnotes&lt;/h1&gt;
&lt;p&gt;Again I recommend you to practice enough before taking the exam, even if you have experience with Kubernetes. Time management is important, so you must be prepared to use the Kubernetes documentation quickly (from the documentation page or from the console with kubectl), be prepared to generate yamls (not edit them), and handle nerves and pressure.&lt;/p&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.linuxfoundation.org/tc-docs/certification/lf-candidate-handbook/exam-rules-and-policies&quot; target=&quot;_blank&quot;&gt;Exam Rules and Policies&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/gp/product/B072TS9ZQZ/ref=ppx_yo_dt_b_d_asin_title_o06?ie=UTF8&amp;amp;psc=1&quot; target=&quot;_blank&quot;&gt;The Kubernetes Book: Updated Feb 2020&lt;/a&gt;  by Nigel Poulton.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.amazon.com/Kubernetes-Running-Dive-Future-Infrastructure-ebook/dp/B07YP1XSZ9/ref=sr_1_1?dchild=1&amp;amp;keywords=kubernetes+up+and+running&amp;amp;qid=1595782565&amp;amp;s=digital-text&amp;amp;sr=1-1&quot; target=&quot;_blank&quot;&gt;Kubernetes up and running&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.udemy.com/course/certified-kubernetes-application-developer/&quot; target=&quot;_blank&quot;&gt;Kubernetes Certified Application Developer (CKAD) with Tests (Mumshad Mannambeth)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://linuxacademy.com/course/certified-kubernetes-application-developer-ckad/&quot; target=&quot;_blank&quot;&gt;Certified Kubernetes Application Developer (CKAD) - Linux Academy&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://acloud.guru/learn/kubernetes-deep-dive&quot; target=&quot;_blank&quot;&gt;Kubernetes Deep Dive - A Cloud Guru&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://acloud.guru/learn/kubernetes-fundamental/&quot; target=&quot;_blank&quot;&gt;Kubernetes Fundamentals - A Cloud Guru&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/&quot; target=&quot;_blank&quot;&gt;Katacoda&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kubernetes.io/docs/tasks/tools/install-minikube/&quot; target=&quot;_blank&quot;&gt;Minikube&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dgkanatsios/CKAD-exercises&quot; target=&quot;_blank&quot;&gt;CKAD Exercises&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/bb-tutorials-and-thoughts/practice-enough-with-these-questions-for-the-ckad-exam-2f42d1228552&quot; target=&quot;_blank&quot;&gt;Practice Enough With These 150 Questions for the CKAD Exam&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://codeburst.io/kubernetes-ckad-weekly-challenges-overview-and-tips-7282b36a2681&quot; target=&quot;_blank&quot;&gt;Kubernetes CKAD Example Exam Questions Practical Challenge Series&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="Kubernetes" /><category term="k8s" /><category term="EKS" /><summary type="html"></summary></entry><entry><title type="html">Terraform module for Secrets Manager</title><link href="https://lgallardo.com/2020/06/26/terraform-module-for-amazon-secrets-manager" rel="alternate" type="text/html" title="Terraform module for Secrets Manager" /><published>2020-06-25T19:00:00-05:00</published><updated>2020-06-25T19:00:00-05:00</updated><id>https://lgallardo.com/2020/06/26/terraform-module-for-amazon-secrets-manager</id><content type="html" xml:base="https://lgallardo.com/2020/06/26/terraform-module-for-amazon-secrets-manager">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-secrets-manager.jpg&quot; alt=&quot;AWS Secrets Manager&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I just published a Terraform module called &lt;strong&gt;terraform-aws-secrets-manager&lt;/strong&gt; at Github, so I decided to share it as well in the public Terraform Registry.&lt;/p&gt;

&lt;p&gt;You can check the module &lt;strong&gt;terraform-aws-secrets-manager&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/secrets-manager/aws/&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-secrets-manager&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://lgallardo.com/images/terraform.jpg&quot; alt=&quot;Terraform&quot; /&gt;&lt;/p&gt;
&lt;h1 id=&quot;terraform-aws-secrets-manager&quot;&gt;terraform-aws-secrets-manager&lt;/h1&gt;

&lt;p&gt;Terraform module to create &lt;a href=&quot;https://aws.amazon.com/secrets-manager/&quot; target=&quot;_blank&quot;&gt;Amazon Secrets Manager&lt;/a&gt; resources.&lt;/p&gt;

&lt;p&gt;AWS Secrets Manager helps you protect secrets needed to access your applications, services, and IT resources. The service enables you to easily rotate, manage, and retrieve database credentials, API keys, and other secrets throughout their lifecycle.&lt;/p&gt;

&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;

&lt;p&gt;Check the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-secrets-manager/tree/master/examples/&quot; target=&quot;_blank&quot;&gt;examples&lt;/a&gt; folder where you can see the complete compilation of snippets.&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;You can create secrets for plain texts, keys/values and binary data:&lt;/p&gt;

&lt;h3 id=&quot;plain-text-secrets&quot;&gt;Plain text secrets&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;secrets-manager-1&quot; {

  source = &quot;lgallard/secrets-manager/aws&quot;

  secrets = [
    {
      name                    = &quot;secret-1&quot;
      description             = &quot;My secret 1&quot;
      recovery_window_in_days = 7
      secret_string           = &quot;This is an example&quot;
    },
    {
      name                    = &quot;secret-2&quot;
      description             = &quot;My secret 2&quot;
      recovery_window_in_days = 7
      secret_string           = &quot;This is another example&quot;
    }
  ]

  tags = {
    Owner       = &quot;DevOps team&quot;
    Environment = &quot;dev&quot;
    Terraform   = true

  }
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;keyvalue-secrets&quot;&gt;Key/Value secrets&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;secrets-manager-2&quot; {

  source = &quot;lgallard/secrets-manager/aws&quot;

  secrets = [
   {
      name        = &quot;secret-kv-1&quot;
      description = &quot;This is a key/value secret&quot;
      secret_key_value = {
        key1 = &quot;value1&quot;
        key2 = &quot;value2&quot;
      }
      recovery_window_in_days = 7
    },
   {
      name        = &quot;secret-kv-2&quot;
      description = &quot;Another key/value secret&quot;
      secret_key_value = {
        username = &quot;user&quot;
        password = &quot;topsecret&quot;
      }
      tags = {
        app = &quot;web&quot;
      }
      recovery_window_in_days = 7
    },
 ]

  tags = {
    Owner       = &quot;DevOps team&quot;
    Environment = &quot;dev&quot;
    Terraform   = true
  }

}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;binary-secrets&quot;&gt;Binary secrets&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;secrets-manager-3&quot; {

  source = &quot;lgallard/secrets-manager/aws&quot;

  secrets = [
    {
      name                    = &quot;secret-binary-1&quot;
      description             = &quot;This is a binary secret&quot;
      secret_binary           = &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDt4TcI58h4G0wR+GcDY+0VJR10JNvG92jEKGaKxeMaOkfsXflVGsYXbfVBBCG/n3uHtTse7baYLB6LWQAuYWL1SHJVhhTQ7pPiocFWibAvJlVo1l7qJEDu2OxKpWEleCE+p3ufNXAy7v5UFO7EOnj0Zg6R3F/MiAWbQnaEHcYzNtogyC24YBecBLrBXZNi1g0AN1hM9k+3XvWUYTf9vPv8LIWnqo7y4Q2iEGWWurf37YFl1LzX4mG/Co+Vfe5TlZSe2YPMYWlw0ZKaKvwzInRR6dPMAflo3ABzlduiIbSdp110uGqB8i2M8eGXNDxR7Ni4nnLWnT9r1cpWhXWP6pAG4Xg8+x7+PIg/pgjgJNmsURw+jPD6+hkCw2Vz16EIgkC2b7lj0V6J4LncUoRzU/1sAzCQ4tspy3SKBUinYoxbDvXleF66FHEjfparnvNwfslBx0IJjG2uRwuX6zrsNIsGF1stEjz+eyAOtFV4/wRjRcCNDZvl1ODzIvwf8pAWddE= lgallard@server1&quot;
    },
    {
      name                    = &quot;secret-binary-2&quot;
      description             = &quot;Another binary secret&quot;
      secret_binary           = &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCzc818NSC6oJYnNjVWoF43+IuQpqc3WyS8BWZ50uawK5lY/aObweX2YiXPv2CoVvHUM0vG7U7BDBvNi2xwsT9n9uT27lcVQsTa8iDtpyoeBhcj3vJ60Jd04UfoMP7Og6UbD+KGiaqQ0LEtMXq6d3i619t7V0UkaJ4MXh2xl5y3bV4zNzTXdSScJnvMFfjLW0pJOOqltLma3NQ9ILVdMSK2Vzxc87T+h/jp0VuUAX4Rx9DqmxEU/4JadXmow/BKy69KVwAk/AQ8jL7OwD2YAxlMKqKnOsBJQF27YjmMD240UjkmnPlxkV8+g9b2hA0iM5GL+5MWg6pPUE0BYdarCmwyuaWYhv/426LnfHTz9UVC3y9Hg5c4X4I6AdJJUmarZXqxnMe9jJiqiQ+CAuxW3m0gIGsEbUul6raG73xFuozlaXq3J+kMCVW24eG2i5fezgmtiysIf/dpcUo+YLkX+U8jdMQg9IwCY0bf8XL39kwJ7u8uWU8+7nMcS9VQ5llVVMk= lgallard@server2&quot;
      recovery_window_in_days = 7
      tags = {
        app = &quot;web&quot;
      }
    }

 ]

  tags = {
    Owner       = &quot;DevOps team&quot;
    Environment = &quot;dev&quot;
    Terraform   = true
  }

}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;secrets-rotation&quot;&gt;Secrets Rotation&lt;/h2&gt;

&lt;p&gt;If yo need to rotate your secrets, use &lt;code class=&quot;highlighter-rouge&quot;&gt;rotate_secrets&lt;/code&gt; list to define them. Take into account that the lambda function must exist and it must have the right permissions to rotate the secrets in AWS Secret manager:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;secrets-manager-4&quot; {

  source = &quot;lgallard/secrets-manager/aws&quot;

    rotate_secrets = [
    {
      name                    = &quot;secret-rotate-1&quot;
      description             = &quot;This is a secret to be rotated by a lambda&quot;
      secret_string           = &quot;This is an example&quot;
      rotation_lambda_arn     = &quot;arn:aws:lambda:us-east-1:123455678910:function:lambda-rotate-secret&quot;
      recovery_window_in_days = 15
    },
    {
      name                    = &quot;secret-rotate-2&quot;
      description             = &quot;This is another secret to be rotated by a lambda&quot;
      secret_string           = &quot;This is another example&quot;
      rotation_lambda_arn     = &quot;arn:aws:lambda:us-east-1:123455678910:function:lambda-rotate-secret&quot;
      recovery_window_in_days = 7
    },
  ]

  tags = {
    Owner       = &quot;DevOps team&quot;
    Environment = &quot;dev&quot;
    Terraform   = true
  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;several-secret-definitions&quot;&gt;Several secret definitions&lt;/h2&gt;

&lt;p&gt;You can define different type of secrets (string, key/balue or binary) in the same &lt;code class=&quot;highlighter-rouge&quot;&gt;secrets&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;rotate_secrets&lt;/code&gt; list:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;secrets-manager-5&quot; {

  source = &quot;lgallard/secrets-manager/aws&quot;

  secrets = [
    {
      name                    = &quot;secret-plain&quot;
      description             = &quot;My plain text secret&quot;
      recovery_window_in_days = 7
      secret_string           = &quot;This is an example&quot;
    },
   {
      name        = &quot;secret-key-value&quot;
      description = &quot;This is a key/value secret&quot;
      secret_key_value = {
        username = &quot;user&quot;
        password = &quot;topsecret&quot;
      }
      tags = {
        app = &quot;web&quot;
      }
      recovery_window_in_days = 7
    },
 ]

  tags = {
    Owner       = &quot;DevOps team&quot;
    Environment = &quot;dev&quot;
    Terraform   = true
  }

}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;providers&quot;&gt;Providers&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Version&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;aws&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;inputs&quot;&gt;Inputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Default&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;automatically_after_days&lt;/td&gt;
      &lt;td&gt;Specifies the number of days between automatic scheduled rotations of the secret.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;number&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;30&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;recovery_window_in_days&lt;/td&gt;
      &lt;td&gt;Specifies the number of days that AWS Secrets Manager waits before it can delete the secret. This value can be 0 to force deletion without recovery or range from 7 to 30 days.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;number&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;30&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rotate_secrets&lt;/td&gt;
      &lt;td&gt;List of secrets to keep and rotate in AWS Secrets Manager&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;secrets&lt;/td&gt;
      &lt;td&gt;List of secrets to keep in AWS Secrets Manager&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;Specifies a key-value map of user-defined tags that are attached to the secret.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;outputs&quot;&gt;Outputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;rotate_secret_arns&lt;/td&gt;
      &lt;td&gt;Rotate secret arn list&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rotate_secret_ids&lt;/td&gt;
      &lt;td&gt;Rotate secret id list&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;secret_arns&lt;/td&gt;
      &lt;td&gt;Secret arn list&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;secret_ids&lt;/td&gt;
      &lt;td&gt;Secret id list&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-secrets-manager.git&quot; target=&quot;_blank&quot;&gt;terraform-aws-secrets-manager module at github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/secrets-manager/aws/&quot; target=&quot;_blank&quot;&gt;terraform-aws-secrets-manager module at Terraform registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I just published a Terraform module called terraform-aws-secrets-manager at Github, so I decided to share it as well in the public Terraform Registry.</summary></entry><entry><title type="html">HashiCorp Certified: Terraform Associate</title><link href="https://lgallardo.com/2020/04/28/2020-04-28-hashicorp-certified-terraform-associate/" rel="alternate" type="text/html" title="HashiCorp Certified: Terraform Associate" /><published>2020-04-27T19:00:00-05:00</published><updated>2020-04-27T19:00:00-05:00</updated><id>https://lgallardo.com/2020/04/28/hashicorp-certified-terraform-associate</id><content type="html" xml:base="https://lgallardo.com/2020/04/28/2020-04-28-hashicorp-certified-terraform-associate/">&lt;center&gt;&lt;img src=&quot;/images/terraform-associate-badge.jpg&quot; alt=&quot;HasiCorp Certified: Terraform Associate&quot; width=&quot;340&quot; height=&quot;340&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt; 
HashiCorp recently announced the general availability of some of their &lt;a href=&quot;https://www.hashicorp.com/blog/announcing-hashicorp-cloud-engineering-certifications/&quot; target=&quot;_blank&quot;&gt;Cloud Certifications&lt;/a&gt; like Terraform and Vault (and others to come like Consul). As I’ve been working with Terraform for a while and due to the fact I’ve published modules at the &lt;a href=&quot;https://registry.terraform.io/search?q=lgallard&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; I decided to take the exam.&lt;/p&gt;

&lt;p&gt;You can verify the validity of the certifications using &lt;strong&gt;&lt;em&gt;Acclaim&lt;/em&gt;&lt;/strong&gt; platform. For example for my certification visit my badge &lt;a href=&quot;https://www.youracclaim.com/badges/d82312de-3f83-430b-8136-78c18e757463/public_url&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;the-exam&quot;&gt;The exam&lt;/h1&gt;

&lt;p&gt;There were 57 questions to answer in 60 minutes, with a proctor which verifies your are alone during the exam.&lt;/p&gt;

&lt;h2 id=&quot;how-did-i-prepare&quot;&gt;How did I prepare?&lt;/h2&gt;

&lt;p&gt;Unlike other exams that I had already taken the preparation for this was different. Since the general availability was announced just few days ago and there weren’t many resources online like courses at &lt;strong&gt;A Cloud Guru&lt;/strong&gt; or &lt;strong&gt;Linux Academy&lt;/strong&gt; I had to follow HashiCorp’s recommendations:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-study-guide&quot; target=&quot;_blank&quot;&gt;Study Guide&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-review&quot; target=&quot;_blank&quot;&gt;Exam Review&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-sample-questions&quot; target=&quot;_blank&quot;&gt;Sample Questions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I found more useful the &lt;strong&gt;&lt;em&gt;Exam Review&lt;/em&gt;&lt;/strong&gt;, which leds you to other resources you can check to complete any gap you may have. In the case you are starting to use Terraform the &lt;strong&gt;&lt;em&gt;Study Guide&lt;/em&gt;&lt;/strong&gt; would suit you better, and then follow the &lt;strong&gt;&lt;em&gt;Exam Review&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;&lt;em&gt;Sample questions&lt;/em&gt;&lt;/strong&gt; are just a guide on how the exam format is with some questions alike. Don’t assume these question will be asked in the real exam.&lt;/p&gt;

&lt;h2 id=&quot;but-what-to-study&quot;&gt;But what to study?&lt;/h2&gt;

&lt;p&gt;First take into account the contents of the blueprint HashiCorp provides for the exam:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Understand infrastructure as code (IaC) concepts&lt;/li&gt;
  &lt;li&gt;Understand Terraform’s purpose (vs other IaC)&lt;/li&gt;
  &lt;li&gt;Understand Terraform basics&lt;/li&gt;
  &lt;li&gt;Use the Terraform CLI (outside of core workflow)&lt;/li&gt;
  &lt;li&gt;Interact with Terraform modules&lt;/li&gt;
  &lt;li&gt;Navigate Terraform workflow&lt;/li&gt;
  &lt;li&gt;Implement and maintain state&lt;/li&gt;
  &lt;li&gt;Read, generate, and modify configuration&lt;/li&gt;
  &lt;li&gt;Understand Terraform Cloud and Enterprise capabilities&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This blue print is detailed in the &lt;a href=&quot;https://www.hashicorp.com/certification/terraform-associate/&quot; target=&quot;_blank&quot;&gt;Terrraform Certification Exam&lt;/a&gt; page and the &lt;strong&gt;&lt;em&gt;Exam review&lt;/em&gt;&lt;/strong&gt; is a match with this.&lt;/p&gt;

&lt;p&gt;On the other hand I also recommend:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Learn the basic commands (init, plan, apply, destroy) and their possible extra options. Use each command help to get used to their extra options.&lt;/li&gt;
  &lt;li&gt;Learn the Terraform workflow.&lt;/li&gt;
  &lt;li&gt;Know the tfstate file and the possible backends to handle it.&lt;/li&gt;
  &lt;li&gt;Understand what a Workspace is (both for the Open Source and the Cloud / Enterprise versions).&lt;/li&gt;
  &lt;li&gt;Know the difference between the Open Source, Cloud and Enterprise versions of Terraform.&lt;/li&gt;
  &lt;li&gt;Practice before the exam (really, don’t overlook this!).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;other-resources-for-learning-terraform&quot;&gt;Other resources for learning Terraform&lt;/h2&gt;

&lt;p&gt;There are other resources you can use to learn Terraform:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.terraformupandrunning.com&quot; target=&quot;_blank&quot;&gt;Terraform Up &amp;amp; Running&lt;/a&gt;. This book was written from a series of posts available at &lt;a href=&quot;https://blog.gruntwork.io/a-comprehensive-guide-to-terraform-b3d32832baca&quot; target=&quot;_blank&quot;&gt;A Comprehensive Guide to Terraform&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform#getting-started&quot; target=&quot;_blank&quot;&gt;Learn to provision infrastructure with HashiCorp Terraform&lt;/a&gt;. This a series of videos and resources provided by HashiCorp you can follow to getting starting with Terraform (AWS, Azure, Google Cloud, Terraform Cloud)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/hashicorp&quot; target=&quot;_blank&quot;&gt;Katacoda scenarios&lt;/a&gt; by HashiCorp. In particular the &lt;a href=&quot;https://www.katacoda.com/hashicorp/scenarios/terraform-cloud&quot; target=&quot;_blank&quot;&gt;Terraform Cloud scenario&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;my-recommendations-for-saving-time-on-this-exam-are&quot;&gt;My recommendations for saving time on this exam are:&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Answer the easy question quick, don’t stay long thinking whether is right answer because probably it is.&lt;/li&gt;
  &lt;li&gt;Only mark for review those question where you really have a doubt, so you can check them later and if there’s time left be able to review them all.&lt;/li&gt;
  &lt;li&gt;If you have a doubt, for example in how terraform works just remember what have you done in practice or real life. Simple!&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hashicorp.com/certification/terraform-associate/&quot; target=&quot;_blank&quot;&gt;Terrraform Certification Exam page&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-study-guide&quot; target=&quot;_blank&quot;&gt;Study Guide&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-review&quot; target=&quot;_blank&quot;&gt;Exam Review&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform/certification/terraform-associate-sample-questions&quot; target=&quot;_blank&quot;&gt;Sample Questions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.gruntwork.io/a-comprehensive-guide-to-terraform-b3d32832baca&quot; target=&quot;_blank&quot;&gt;A Comprehensive Guide to Terraform&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.terraformupandrunning.com&quot; target=&quot;_blank&quot;&gt;Terraform Up &amp;amp; Running&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://learn.hashicorp.com/terraform#getting-started&quot; target=&quot;_blank&quot;&gt;Learn to provision infrastructure with HashiCorp Terraform&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/hashicorp&quot; target=&quot;_blank&quot;&gt;Katacoda scenarios&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.katacoda.com/hashicorp/scenarios/terraform-cloud&quot; target=&quot;_blank&quot;&gt;Terraform Cloud scenario&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="Terraform" /><category term="HashiCorp" /><summary type="html">HashiCorp recently announced the general availability of some of their Cloud Certifications like Terraform and Vault (and others to come like Consul). As I’ve been working with Terraform for a while and due to the fact I’ve published modules at the Terraform Registry I decided to take the exam.</summary></entry><entry><title type="html">Terraform module for Amazon CodeBuild</title><link href="https://lgallardo.com/2020/04/18/terraform-module-for-amazon-codebuild" rel="alternate" type="text/html" title="Terraform module for Amazon CodeBuild" /><published>2020-04-17T19:00:00-05:00</published><updated>2020-04-17T19:00:00-05:00</updated><id>https://lgallardo.com/2020/04/18/terraform-module-for-amazon-codebuild</id><content type="html" xml:base="https://lgallardo.com/2020/04/18/terraform-module-for-amazon-codebuild">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-codebuild.jpg&quot; alt=&quot;AWS CodeBuild&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I just published a Terraform module called &lt;strong&gt;terraform-aws-codebuild&lt;/strong&gt; at Github, so I decided to share it as well in the public Terraform Registry.&lt;/p&gt;

&lt;p&gt;You can check the module &lt;strong&gt;terraform-aws-codebuild&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/codebuild/aws/&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-codebuild&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://lgallardo.com/images/terraform.jpg&quot; alt=&quot;Terraform&quot; /&gt;&lt;/p&gt;
&lt;h1 id=&quot;terraform-aws-codebuild&quot;&gt;terraform-aws-codebuild&lt;/h1&gt;
&lt;p&gt;Terraform module for creating &lt;a href=&quot;https://aws.amazon.com/codebuild/&quot; target=&quot;_blank&quot;&gt;AWS CodeBuild&lt;/a&gt; Projects. AWS CodeBuild is a fully managed continuous integration service that compiles source code, runs tests, and produces software packages that are ready to deploy.&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;
&lt;p&gt;You can  define CodeBuild projects using object variables (made of maps, lists, booleans, etc.), or you can define projects using the classic module’s variables approach (eg. &lt;code class=&quot;highlighter-rouge&quot;&gt;artifacts_*&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;cache_*&lt;/code&gt;, etc.).&lt;/p&gt;

&lt;p&gt;In the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-codebuild/tree/master/examples/&quot; target=&quot;_blank&quot;&gt;examples&lt;/a&gt; folder you can check both approaches in detail and another example with VPC support.&lt;/p&gt;

&lt;h2 id=&quot;example-using-objects&quot;&gt;Example using objects&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;myapp-project&quot; {

  source = &quot;git::https://github.com/lgallard/terraform-aws-codebuild.git&quot;

  name        = &quot;my-app&quot;
  description = &quot;Codebuild for deploying myapp&quot;

  # CodeBuild Source
  codebuild_source_version = &quot;master&quot;
  codebuild_source = {
    type            = &quot;GITHUB&quot;
    location        = &quot;https://github.com/lgallard/codebuild-example.git&quot;
    git_clone_depth = 1

    git_submodules_config = {
      fetch_submodules = true
    }
  }

  # Environment
  environment = {
    compute_type    = &quot;BUILD_GENERAL1_SMALL&quot;
    image           = &quot;aws/codebuild/standard:2.0&quot;
    type            = &quot;LINUX_CONTAINER&quot;
    privileged_mode = true

    # Environment variables
    variables = [
      {
        name  = &quot;REGISTRY_URL&quot;
        value = &quot;012345678910.dkr.ecr.us-east-1.amazonaws.com/my-ecr&quot;
      },
      {
        name  = &quot;AWS_DEFAULT_REGION&quot;
        value = &quot;us-east-1&quot;
      },
    ]
  }

  # Artifacts
  artifacts = {
    location  = aws_s3_bucket.myapp-project.bucket
    type      = &quot;S3&quot;
    path      = &quot;/&quot;
    packaging = &quot;ZIP&quot;
  }

  # Cache
  cache = {
    type     = &quot;S3&quot;
    location = aws_s3_bucket.myapp-project.bucket
  }

  # Logs
  s3_logs = {
    status   = &quot;ENABLED&quot;
    location = &quot;${aws_s3_bucket.myapp-project.id}/build-log&quot;
  }

  # Tags
  tags = {
    Environment = &quot;dev&quot;
    owner       = &quot;development-team&quot;
  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;example-using-variables&quot;&gt;Example using variables&lt;/h2&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;myapp-project&quot; {

  source = &quot;git::https://github.com/lgallard/terraform-aws-codebuild.git&quot;

  name        = &quot;my-app-var&quot;
  description = &quot;Codebuild for deploying myapp (variables)&quot;

  # CodeBuild Source
  codebuild_source_version = &quot;master&quot;

  codebuild_source_type                                   = &quot;GITHUB&quot;
  codebuild_source_location                               = &quot;https://github.com/lgallard/codebuild-example.git&quot;
  codebuild_source_git_clone_depth                        = 1
  codebuild_source_git_submodules_config_fetch_submodules = true

  # Environment
  environment_compute_type    = &quot;BUILD_GENERAL1_SMALL&quot;
  environment_image           = &quot;aws/codebuild/standard:2.0&quot;
  environment_type            = &quot;LINUX_CONTAINER&quot;
  environment_privileged_mode = true

  # Environment variables
  environment_variables = [
    {
      name  = &quot;REGISTRY_URL&quot;
      value = &quot;012345678910.dkr.ecr.us-east-1.amazonaws.com/my-ecr&quot;
    },
    {
      name  = &quot;AWS_DEFAULT_REGION&quot;
      value = &quot;us-east-1&quot;
    },
  ]

  # Artifacts
  artifacts_location  = aws_s3_bucket.myapp-project.bucket
  artifacts_type      = &quot;S3&quot;
  artifacts_path      = &quot;/&quot;
  artifacts_packaging = &quot;ZIP&quot;

  # Cache
  cache_type     = &quot;S3&quot;
  cache_location = aws_s3_bucket.myapp-project.bucket

  # Logs
  s3_logs_status   = &quot;ENABLED&quot;
  s3_logs_location = &quot;${aws_s3_bucket.myapp-project.id}/build-var-log&quot;


  # Tags
  tags = {
    Environment = &quot;dev&quot;
    owner       = &quot;development-team&quot;
  }

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;inputs&quot;&gt;Inputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Default&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts&lt;/td&gt;
      &lt;td&gt;Information about the project’s build output artifacts.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_artifact_identifier&lt;/td&gt;
      &lt;td&gt;The artifact identifier. Must be the same specified inside AWS CodeBuild buildspec.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_encryption_disabled&lt;/td&gt;
      &lt;td&gt;If set to true, output artifacts will not be encrypted. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;NO_ARTIFACTS&lt;/code&gt; then this value will be ignored.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_location&lt;/td&gt;
      &lt;td&gt;Information about the build output artifact location. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;CODEPIPELINE&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;NO_ARTIFACTS&lt;/code&gt; then this value will be ignored. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;, this is the name of the output bucket.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_name&lt;/td&gt;
      &lt;td&gt;The name of the project. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;, this is the name of the output artifact object.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_namespace_type&lt;/td&gt;
      &lt;td&gt;The namespace to use in storing build artifacts. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;, then valid values for this parameter are: &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_ID&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;NONE&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_override_artifact_name&lt;/td&gt;
      &lt;td&gt;If set to true, a name specified in the build spec file overrides the artifact name.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_packaging&lt;/td&gt;
      &lt;td&gt;The type of build output artifact to create. If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;, valid values for this parameter are: &lt;code class=&quot;highlighter-rouge&quot;&gt;NONE&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;ZIP&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_path&lt;/td&gt;
      &lt;td&gt;If &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;, this is the path to the output artifact&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;artifacts_type&lt;/td&gt;
      &lt;td&gt;The build output artifact’s type. Valid values for this parameter are: &lt;code class=&quot;highlighter-rouge&quot;&gt;CODEPIPELINE&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;NO_ARTIFACTS&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;NO_ARTIFACTS&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;badge_enabled&lt;/td&gt;
      &lt;td&gt;Generates a publicly-accessible URL for the projects build badge. Available as badge_url attribute when enabled.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;build_timeout&lt;/td&gt;
      &lt;td&gt;How long in minutes, from 5 to 480 (8 hours), for AWS CodeBuild to wait until timing out any related build that does not get marked as completed.The default is 60 minutes.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;number&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;60&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cache&lt;/td&gt;
      &lt;td&gt;Information about the cache storage for the project.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cache_location&lt;/td&gt;
      &lt;td&gt;The location where the AWS CodeBuild project stores cached resources. For type S3 the value must be a valid S3 bucket name/prefix. (Required when cache &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;)&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cache_modes&lt;/td&gt;
      &lt;td&gt;Specifies settings that AWS CodeBuild uses to store and reuse build dependencies. Valid values: &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL_SOURCE_CACHE&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL_DOCKER_LAYER_CACHE&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL_CUSTOM_CACHE&lt;/code&gt;. (Required when cache type is &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL&lt;/code&gt;)&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cache_type&lt;/td&gt;
      &lt;td&gt;The type of storage that will be used for the AWS CodeBuild project cache. Valid values: &lt;code class=&quot;highlighter-rouge&quot;&gt;NO_CACHE&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;LOCAL&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;NO_CACHE&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cloudwatch_logs&lt;/td&gt;
      &lt;td&gt;Configuration for the builds to store log data to CloudWatch.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cloudwatch_logs_group_name&lt;/td&gt;
      &lt;td&gt;The group name of the logs in CloudWatch Logs.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cloudwatch_logs_status&lt;/td&gt;
      &lt;td&gt;Current status of logs in CloudWatch Logs for a build project. Valid values: &lt;code class=&quot;highlighter-rouge&quot;&gt;ENABLED&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;DISABLED.&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;ENABLED&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cloudwatch_logs_stream_name&lt;/td&gt;
      &lt;td&gt;The stream name of the logs in CloudWatch Logs.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source&lt;/td&gt;
      &lt;td&gt;Information about the project’s input source code.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_auth&lt;/td&gt;
      &lt;td&gt;Information about the authorization settings for AWS CodeBuild to access the source code to be built.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_auth_resource&lt;/td&gt;
      &lt;td&gt;The resource value that applies to the specified authorization type.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_auth_type&lt;/td&gt;
      &lt;td&gt;The authorization type to use. The only valid value is OAUTH&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;OAUTH&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_buildspec&lt;/td&gt;
      &lt;td&gt;The build spec declaration to use for this build project’s related builds. This must be set when type is iNO_SOURCE&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_git_clone_depth&lt;/td&gt;
      &lt;td&gt;Information about the Git submodules configuration for an AWS CodeBuild build project. Git submodules config blocks are documented below. This option is only valid when the type is &lt;code class=&quot;highlighter-rouge&quot;&gt;CODECOMMIT&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;number&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_git_submodules_config&lt;/td&gt;
      &lt;td&gt;Information about the Git submodules configuration for an AWS CodeBuild build project. Git submodules config blocks are documented below. This option is only valid when the type is &lt;code class=&quot;highlighter-rouge&quot;&gt;CODECOMMIT&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_git_submodules_config_fetch_submodules&lt;/td&gt;
      &lt;td&gt;If set to true, fetches Git submodules for the AWS CodeBuild build project.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_insecure_ssl&lt;/td&gt;
      &lt;td&gt;Ignore SSL warnings when connecting to source control.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_location&lt;/td&gt;
      &lt;td&gt;The location of the source code from git or s3.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_report_build_status&lt;/td&gt;
      &lt;td&gt;Set to true to report the status of a build’s start and finish to your source provider. This option is only valid when the type is &lt;code class=&quot;highlighter-rouge&quot;&gt;BITBUCKET&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;GITHUB&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_type&lt;/td&gt;
      &lt;td&gt;The type of repository that contains the source code to be built. Valid values for this parameter are: &lt;code class=&quot;highlighter-rouge&quot;&gt;CODECOMMIT&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;CODEPIPELINE&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;GITHUB&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;GITHUB_ENTERPRISE&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;BITBUCKET&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;S3&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;NO_SOURCE&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;CODEPIPELINE&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;codebuild_source_version&lt;/td&gt;
      &lt;td&gt;A version of the build input to be built for this project. If not specified, the latest version is used.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;description&lt;/td&gt;
      &lt;td&gt;A short description of the project.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;encryption_key&lt;/td&gt;
      &lt;td&gt;The AWS Key Management Service (AWS KMS) customer master key (CMK) to be used for encrypting the build project’s build output artifacts.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment&lt;/td&gt;
      &lt;td&gt;Information about the project’s build environment.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_certificate&lt;/td&gt;
      &lt;td&gt;The ARN of the S3 bucket, path prefix and object key that contains the PEM-encoded certificate.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_compute_type&lt;/td&gt;
      &lt;td&gt;Information about the compute resources the build project will use. Available values for this parameter are: &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_SMALL&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_MEDIUM&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_LARGE&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_2XLARGE&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_SMALL&lt;/code&gt; is only valid if type is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;LINUX_CONTAINER&lt;/code&gt;. When type is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;LINUX_GPU_CONTAINER&lt;/code&gt;, compute_type need to be &lt;code class=&quot;highlighter-rouge&quot;&gt;BUILD_GENERAL1_LARGE&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;BUILD_GENERAL1_MEDIUM&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_image&lt;/td&gt;
      &lt;td&gt;The Docker image to use for this build project. Valid values include Docker images provided by CodeBuild (e.g &lt;code class=&quot;highlighter-rouge&quot;&gt;aws/codebuild/standard:2.0&lt;/code&gt;), Docker Hub images (e.g. &lt;code class=&quot;highlighter-rouge&quot;&gt;hashicorp/terraform:latest&lt;/code&gt;), and full Docker repository URIs such as those for ECR (e.g. &lt;code class=&quot;highlighter-rouge&quot;&gt;137112412989.dkr.ecr.us-west-2.amazonaws.com/amazonlinux:latest&lt;/code&gt;)&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;aws/codebuild/standard:2.0&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_image_pull_credentials_type&lt;/td&gt;
      &lt;td&gt;The type of credentials AWS CodeBuild uses to pull images in your build. Available values for this parameter are &lt;code class=&quot;highlighter-rouge&quot;&gt;CODEBUID&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;SERVICE_ROLE&lt;/code&gt;. When you use a cross-account or private registry image, you must use SERVICE_ROLE credentials. When you use an AWS CodeBuild curated image, you must use CODEBUILD credentials.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;CODEBUILD&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_privileged_mode&lt;/td&gt;
      &lt;td&gt;If set to true, enables running the Docker daemon inside a Docker container.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_registry_credential&lt;/td&gt;
      &lt;td&gt;Information about credentials for access to a private Docker registry. Registry Credential config blocks are documented below.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_type&lt;/td&gt;
      &lt;td&gt;The type of build environment to use for related builds. Available values are: &lt;code class=&quot;highlighter-rouge&quot;&gt;LINUX_CONTAINER&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;LINUX_GPU_CONTAINER&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;WINDOWS_CONTAINER&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;ARM_CONTAINER&lt;/code&gt;.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;LINUX_CONTAINER&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;environment_variables&lt;/td&gt;
      &lt;td&gt;A list of sets of environment variables to make available to builds for this build project.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;name&lt;/td&gt;
      &lt;td&gt;The projects name.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;queued_timeout&lt;/td&gt;
      &lt;td&gt;How long in minutes, from 5 to 480 (8 hours), a build is allowed to be queued before it times out.The default is 8 hours.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;number&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;480&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;s3_logs&lt;/td&gt;
      &lt;td&gt;Configuration for the builds to store log data to S3.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;s3_logs_encryption_disabled&lt;/td&gt;
      &lt;td&gt;Set to true if you do not want S3 logs encrypted.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;s3_logs_location&lt;/td&gt;
      &lt;td&gt;The name of the S3 bucket and the path prefix for S3 logs. Must be set if status is ENABLED, otherwise it must be empty.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;s3_logs_status&lt;/td&gt;
      &lt;td&gt;Current status of logs in S3 for a build project. Valid values: &lt;code class=&quot;highlighter-rouge&quot;&gt;ENABLED&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;DISABLED.&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;DISABLED&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;A mapping of tags to assign to the resource.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;map(string)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_config&lt;/td&gt;
      &lt;td&gt;Configuration for the builds to run inside a VPC.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_config_security_group_ids&lt;/td&gt;
      &lt;td&gt;The security group IDs to assign to running builds.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list(string)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_config_subnets&lt;/td&gt;
      &lt;td&gt;The subnet IDs within which to run builds.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list(string)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_config_vpc_id&lt;/td&gt;
      &lt;td&gt;The ID of the VPC within which to run builds.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;outputs&quot;&gt;Outputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;arn&lt;/td&gt;
      &lt;td&gt;The ARN of the CodeBuild project&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;id&lt;/td&gt;
      &lt;td&gt;The name (if imported via name) or ARN (if created via Terraform or imported via ARN) of the CodeBuild project.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;name&lt;/td&gt;
      &lt;td&gt;The name of the CodeBuild project&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;service_role_arn&lt;/td&gt;
      &lt;td&gt;Amazon Resource Name (ARN) of the Service Role for CodeBuild.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;service_role_id&lt;/td&gt;
      &lt;td&gt;ID of the Service Role created for CodeBuild.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;service_role_name&lt;/td&gt;
      &lt;td&gt;Name of the Service Role created for CodeBuild.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-codebuild.git&quot; target=&quot;_blank&quot;&gt;terraform-aws-codebuild module at github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/codebuild/aws/&quot; target=&quot;_blank&quot;&gt;terraform-aws-codebuild module at Terraform registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I just published a Terraform module called terraform-aws-codebuild at Github, so I decided to share it as well in the public Terraform Registry.</summary></entry><entry><title type="html">Terraform module for Amazon Route53 Resolver Rules</title><link href="https://lgallardo.com/2020/02/29/terraform-module-for-route53-resolver-rules" rel="alternate" type="text/html" title="Terraform module for Amazon Route53 Resolver Rules" /><published>2020-02-28T18:00:00-06:00</published><updated>2020-02-28T18:00:00-06:00</updated><id>https://lgallardo.com/2020/02/29/terraform-module-for-route53-resolver-rules</id><content type="html" xml:base="https://lgallardo.com/2020/02/29/terraform-module-for-route53-resolver-rules">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-route53-resolver-rules.jpg&quot; alt=&quot;AWS Route53 Resolver Rules&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;&lt;img src=&quot;/images/Resolver-outbound-endpoint.jpg&quot; alt=&quot;Resolver outbound endpoint&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I wrote this module to be able to create AWS Route53 Resolver rules for outbound endpoints in a more convenient way.&lt;/p&gt;

&lt;p&gt;You can check the module &lt;strong&gt;terraform-aws-route53-resolver-rules&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/route53-resolver-rules/aws/&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-route53-resolver-rules&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;h1 id=&quot;terraform-aws-route53-resolver-rules&quot;&gt;terraform-aws-route53-resolver-rules&lt;/h1&gt;

&lt;p&gt;Terraform module to create &lt;a href=&quot;https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html&quot;&gt;AWS Route53 Resolver Rules&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;Before you start to forward queries, you must create  Resolver outbound endpoints in the connected VPCs. These endpoints provide a path for inbound or outbound queries. To accomplish this you can create the endpoints using the &lt;a href=&quot;https://www.terraform.io/docs/providers/aws/r/route53_resolver_endpoint.html&quot;&gt;aws_route53_resolver_endpoint&lt;/a&gt; resource or use a module like the &lt;a href=&quot;https://github.com/rhythmictech/terraform-aws-route53-endpoint&quot;&gt;terraform-aws-route53-endpoint&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Check the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-route53-resolver-rules/blob/master/examples/&quot;&gt;examples&lt;/a&gt; folder for the &lt;strong&gt;simple&lt;/strong&gt; and the &lt;strong&gt;complete&lt;/strong&gt; snippets.&lt;/p&gt;

&lt;h3 id=&quot;example-complete&quot;&gt;Example (complete)&lt;/h3&gt;

&lt;p&gt;This example creates two rules in a outbound endpoint, using all the parameter expected for building the rules:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# Outbound endpoint using the rhythmictech/terraform-aws-route53-endpoint module
module &quot;r53-outboud&quot; {
  source            = &quot;git::https://github.com/rhythmictech/terraform-aws-route53-endpoint&quot;
  direction         = &quot;outbound&quot;
  allowed_resolvers = [&quot;192.168.0.0/24&quot;]
  vpc_id            = &quot;vpc-0fffff0123456789&quot;
  ip_addresses      = [
    {
      ip        = &quot;172.30.1.10&quot;
      subnet_id = &quot;subnet-abcd123456789aaaa&quot;
    },
    {
      ip        = &quot;172.30.2.10&quot;
      subnet_id = &quot;subnet-abcd123456789bbbb&quot;
    }
  ]
}

# AWS Route 53 Resolver rules
module &quot;r53-resolver-rules&quot; {
  source               = &quot;git::https://github.com/lgallard/terraform-aws-route53-resolver-rules.git&quot;
  resolver_endpoint_id = module.r53-outboud.endpoint_ids

  rules = [
    { rule_name   = &quot;r53r-rule-1&quot;
      domain_name = &quot;bar.foo.&quot;
      ram_name    = &quot;ram-r53r-1&quot;
      vpc_ids     = [&quot;vpc-0fffff0123456789&quot;]
      ips         = [&quot;192.168.10.10&quot;, &quot;192.168.10.11:54&quot;]
      principals  = [&quot;123456789101&quot;, &quot;101987654321&quot;]
    },
    {
      rule_name   = &quot;r53r-rule-2&quot;
      domain_name = &quot;example.com.&quot;
      ram_name    = &quot;ram-r53r-2&quot;
      vpc_ids     = [&quot;vpc-0fffff0123456789&quot;]
      ips         = [&quot;192.168.10.10&quot;, &quot;192.168.10.11:54&quot;]
      principals  = [&quot;123456789101&quot;, &quot;101987654321&quot;]
    }
  ]
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You can define IP and ports using the &lt;em&gt;IP:PORT&lt;/em&gt; syntax, as shown above.&lt;/p&gt;

&lt;h2 id=&quot;inputs&quot;&gt;Inputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Default&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;resolver_endpoint_id&lt;/td&gt;
      &lt;td&gt;The ID of the outbound resolver endpoint that you want to use to route DNS queries to the IP addresses that you specify using target_ip.&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rules&lt;/td&gt;
      &lt;td&gt;List of rules&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;Map of tags to apply to supported resources&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;map(string)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;
Each rule accept the following parameters:&lt;/p&gt;

&lt;h3 id=&quot;rules&quot;&gt;Rules&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Type&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Default&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;domain_name&lt;/td&gt;
      &lt;td&gt;Domain name to forward requests for&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ips&lt;/td&gt;
      &lt;td&gt;List of IPs and ports to forward DNS requests to. Use &lt;em&gt;IP:PORT&lt;/em&gt; syntax, or just the IP&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;list(string)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;principals&lt;/td&gt;
      &lt;td&gt;List of account IDs to share the resolver rule with&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;list(string)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ram_name&lt;/td&gt;
      &lt;td&gt;RAM share name&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;r53-&lt;code class=&quot;highlighter-rouge&quot;&gt;domain_name&lt;/code&gt;-rule&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;resolver_endpoint_id&lt;/td&gt;
      &lt;td&gt;Resolver endpoint id&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_name&lt;/td&gt;
      &lt;td&gt;Route53 resolver rule name&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;string&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;domain_name&lt;/code&gt;-rule&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;Map of tags to apply to supported resources&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;map(string)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_ids&lt;/td&gt;
      &lt;td&gt;List of VPC ids to associate to the rule&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;list(string)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-route53-resolver-rules.git&quot; target=&quot;_blank&quot;&gt;terraform-aws-route53-resolver-rules module at Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/route53-resolver-rules/aws/&quot; target=&quot;_blank&quot;&gt;terraform-aws-route53-resolver-rules at Terraform Registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I wrote this module to be able to create AWS Route53 Resolver rules for outbound endpoints in a more convenient way.</summary></entry><entry><title type="html">Terraform module for Amazon Cognito User Pools</title><link href="https://lgallardo.com/2019/11/23/terraform-module-for-amazon-cognito-user-pool" rel="alternate" type="text/html" title="Terraform module for Amazon Cognito User Pools" /><published>2019-11-22T18:00:00-06:00</published><updated>2019-11-22T18:00:00-06:00</updated><id>https://lgallardo.com/2019/11/23/terraform-module-for-amazon-cognito-user-pool</id><content type="html" xml:base="https://lgallardo.com/2019/11/23/terraform-module-for-amazon-cognito-user-pool">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-cognito-user-pool.jpg&quot; alt=&quot;terraform-aws-cognito-user-pool&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I share here another Terraform module that I just published as open source, which allows you to create Amazon Cognito User Pools with its attributes and resouces such as &lt;strong&gt;app clients&lt;/strong&gt;, &lt;strong&gt;domain&lt;/strong&gt; y &lt;strong&gt;resource server&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;You can check the module &lt;strong&gt;terraform-aws-cognito-user-pool&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/cognito-user-pool/aws&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-cognito-user-pool&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;h1 id=&quot;terraform-aws-cognito-user-pool&quot;&gt;terraform-aws-cognito-user-pool&lt;/h1&gt;

&lt;p&gt;Terraform module to create &lt;a href=&quot;https://aws.amazon.com/cognito/&quot;&gt;Amazon Cognito User Pools&lt;/a&gt;, configure its attributes and resources such as  &lt;strong&gt;app clients&lt;/strong&gt;, &lt;strong&gt;domain&lt;/strong&gt;, &lt;strong&gt;resource servers&lt;/strong&gt;. Amazon Cognito User Pools provide a secure user directory that scales to hundreds of millions of users. As a fully managed service, User Pools are easy to set up without any worries about standing up server infrastructure.&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;You can use this module to create a Cognito User Pool using the default values or use the detailed definition to set every aspect of the Cognito User Pool&lt;/p&gt;

&lt;p&gt;Check the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-cognito-user-pool/tree/master/examples/&quot;&gt;examples&lt;/a&gt; where you can see the &lt;strong&gt;simple&lt;/strong&gt; example using the default values, the &lt;strong&gt;simple_extended&lt;/strong&gt; version which adds  &lt;strong&gt;app clients&lt;/strong&gt;, &lt;strong&gt;domain&lt;/strong&gt;, &lt;strong&gt;resource servers&lt;/strong&gt; resources, or the &lt;strong&gt;complete&lt;/strong&gt; version with a detailed example.&lt;/p&gt;

&lt;h3 id=&quot;example-simple&quot;&gt;Example (simple)&lt;/h3&gt;

&lt;p&gt;This simple example creates a AWS Cognito User Pool with the default values:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;aws_cognito_user_pool_simple&quot; {

  source = &quot;../modules/terraform-aws-cognito-user-pool&quot;

  user_pool_name = &quot;mypool&quot;

  tags = {
    Owner       = &quot;infra&quot;
    Environment = &quot;production&quot;
    Terraform   = true
  }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;example-complete&quot;&gt;Example (complete)&lt;/h3&gt;

&lt;p&gt;This more complete example creates a AWS Cognito User Pool using a detailed configuration. Please check the example folder to get the example with all options:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;aws_cognito_user_pool_complete&quot; {

  source = &quot;../modules/terraform-aws-cognito-user-pool&quot;

  user_pool_name           = &quot;mypool&quot;
  alias_attributes         = [&quot;email&quot;, &quot;phone_number&quot;]
  auto_verified_attributes = [&quot;email&quot;]

  admin_create_user_config = {
    unused_account_validity_days = 9
    email_subject                = &quot;Here, your verification code baby&quot;
  }

  email_configuration = {
    email_sending_account  = &quot;DEVELOPER&quot;
    reply_to_email_address = &quot;email@example.com&quot;
    source_arn             = &quot;arn:aws:ses:us-east-1:888888888888:identity/example.com&quot;
  }

  password_policy = {
    minimum_length    = 10
    require_lowercase = false
    require_numbers   = true
    require_symbols   = true
    require_uppercase = true
  }

  schemas = [
    {
      attribute_data_type      = &quot;Boolean&quot;
      developer_only_attribute = false
      mutable                  = true
      name                     = &quot;available&quot;
      required                 = false
    },
    {
      attribute_data_type      = &quot;Boolean&quot;
      developer_only_attribute = true
      mutable                  = true
      name                     = &quot;registered&quot;
      required                 = false
    }
  ]

  string_schemas = [
    {
      attribute_data_type      = &quot;String&quot;
      developer_only_attribute = false
      mutable                  = false
      name                     = &quot;email&quot;
      required                 = true

      string_attribute_constraints = {
        min_length = 7
        max_length = 15
      }
    }
  ]

  tags = {
    Owner       = &quot;infra&quot;
    Environment = &quot;productionq q                                                                                                       | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_allowed_oauth_flows_user_pool_client                 | Whether the client is allowed to follow the OAuth protocol when interacting with Cognito user pools                                                         | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| client_allowed_oauth_scopes                                    | List of allowed OAuth scopes (phone, email, openid, profile, and aws.cognito.signin.user.admin)                                                             | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_callback_urls                                            | List of allowed callback URLs for the identity providers                                                                                                    | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_default_redirect_uri                                    | The default redirect URI. Must be in the list of callback URLs                                                                                              | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| client_explicit_auth_flows                                     | List of authentication flows (ADMIN_NO_SRP_AUTH, CUSTOM_AUTH_FLOW_ONLY, USER_PASSWORD_AUTH)                                                         | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_generate_secret                                          | Should an application secret be generated                                                                                                                   | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| client_logout_urls                                              | List of allowed logout URLs for the identity providers                                                                                                      | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_name                                                      | The name of the application client                                                                                                                          | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| client_read_attributes                                          | List of user pool attributes the application client can read from                                                                                           | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_refresh_token_validity                                  | The time limit in days refresh tokens are valid for                                                                                                         | `number`                                                                                                                                                                               | `30`                                                                     | no       |
| client_supported_identity_providers                            | List of provider names for the identity providers that are supported on this client                                                                         | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| client_write_attributes                                         | List of user pool attributes the application client can write to                                                                                            | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| clients                                                           | A container with the clients definitions                                                                                                                    | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| device_configuration                                             | The configuration for the user pool's device tracking                                                                                                       | `map`                                                                                                                                                                                  | `{}`                                                                     | no       |
| device_configuration_challenge_required_on_new_device       | Indicates whether a challenge is required on a new device. Only applicable to a new device                                                                  | `bool`                                                                                                                                                                                 | `false`                                                                  | no       |
| device_configuration_device_only_remembered_on_user_prompt | If true, a device is only remembered on user prompt                                                                                                         | `bool`                                                                                                                                                                                 | `false`                                                                  | no       |
| domain                                                            | Cognito User Pool domain                                                                                                                                    | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| domain_certificate_arn                                          | The ARN of an ISSUED ACM certificate in us-east-1 for a custom domain                                                                                       | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| email_configuration                                              | The Email Configuration                                                                                                                                     | `map`                                                                                                                                                                                  | `{}`                                                                     | no       |
| email_configuration_email_sending_account                     | Instruct Cognito to either use its built-in functional or Amazon SES to send out emails. Allowed values: `COGNITO_DEFAULT` or `DEVELOPER`              | `string`                                                                                                                                                                               | `&quot;COGNITO_DEFAULT&quot;`                                                     | no       |
| email_configuration_reply_to_email_address                   | The REPLY-TO email address                                                                                                                                  | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| email_configuration_source_arn                                 | The ARN of the email source                                                                                                                                 | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| email_verification_message                                      | A string representing the email verification message                                                                                                        | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| email_verification_subject                                      | A string representing the email verification subject                                                                                                        | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| lambda_config                                                    | A container for the AWS Lambda triggers associated with the user pool                                                                                       | `map`                                                                                                                                                                                  | n/a                                                                        | yes      |
| lambda_config_create_auth_challenge                           | The ARN of the lambda creating an authentication challenge.                                                                                                 | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_custom_message                                   | A custom Message AWS Lambda trigger.                                                                                                                        | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_define_auth_challenge                           | Defines the authentication challenge.                                                                                                                       | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_post_authentication                              | A post-authentication AWS Lambda trigger                                                                                                                    | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_post_confirmation                                | A post-confirmation AWS Lambda trigger                                                                                                                      | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_pre_authentication                               | A pre-authentication AWS Lambda trigger                                                                                                                     | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_pre_sign_up                                     | A pre-registration AWS Lambda trigger                                                                                                                       | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_pre_token_generation                            | Allow to customize identity token claims before token generation                                                                                            | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_user_migration                                   | The user migration Lambda config type                                                                                                                       | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| lambda_config_verify_auth_challenge_response                 | Verifies the authentication challenge response                                                                                                              | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| mfa_configuration                                                | Set to enable multi-factor authentication. Must be one of the following values (ON, OFF, OPTIONAL)                                                          | `string`                                                                                                                                                                               | `&quot;OFF&quot;`                                                                  | no       |
| number_schemas                                                   | A container with the number schema attributes of a user pool. Maximum of 50 attributes                                                                      | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| password_policy                                                  | A container for information about the user pool password policy                                                                                             | ```hcl object({ minimum_length = number, require_lowercase = bool, require_lowercase = bool, require_numbers = bool, require_symbols = bool, require_uppercase = bool }) ``` | n/a                                                                        | yes      |
| password_policy_minimum_length                                 | The minimum length of the password policy that you have set                                                                                                 | `number`                                                                                                                                                                               | `8`                                                                      | no       |
| password_policy_require_lowercase                              | Whether you have required users to use at least one lowercase letter in their password                                                                      | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| password_policy_require_numbers                                | Whether you have required users to use at least one number in their password                                                                                | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| password_policy_require_symbols                                | Whether you have required users to use at least one symbol in their password                                                                                | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| password_policy_require_uppercase                              | Whether you have required users to use at least one uppercase letter in their password                                                                      | `bool`                                                                                                                                                                                 | `true`                                                                   | no       |
| resource_server_identifier                                      | An identifier for the resource server                                                                                                                       | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| resource_server_name                                            | A name for the resource server                                                                                                                              | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| resource_server_scope_description                              | The scope description                                                                                                                                       | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| resource_server_scope_name                                     | The scope name                                                                                                                                              | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| resource_servers                                                 | A container with the user_groups definitions                                                                                                               | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| schemas                                                           | A container with the schema attributes of a user pool. Maximum of 50 attributes                                                                             | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| sms_authentication_message                                      | A string representing the SMS authentication message                                                                                                        | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| sms_configuration                                                | The SMS Configuration                                                                                                                                       | `map`                                                                                                                                                                                  | `{}`                                                                     | no       |
| sms_configuration_external_id                                  | The external ID used in IAM role trust relationships                                                                                                        | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| sms_configuration_sns_caller_arn                              | The ARN of the Amazon SNS caller. This is usually the IAM role that you've given Cognito permission to assume                                               | `string`                                                                                                                                                                               | `&quot;&quot;`                                                                     | no       |
| sms_verification_message                                        | A string representing the SMS verification message                                                                                                          | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| string_schemas                                                   | A container with the string schema attributes of a user pool. Maximum of 50 attributes                                                                      | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| tags                                                              | A mapping of tags to assign to the User Pool                                                                                                                | `map(string)`                                                                                                                                                                          | `{}`                                                                     | no       |
| user_group_description                                          | The description of the user group                                                                                                                           | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| user_group_name                                                 | The name of the user group                                                                                                                                  | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| user_group_precedence                                           | The precedence of the user group                                                                                                                            | `number`                                                                                                                                                                               | n/a                                                                        | yes      |
| user_group_role_arn                                            | The ARN of the IAM role to be associated with the user group                                                                                                | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| user_groups                                                      | A container with the user_groups definitions                                                                                                               | `list`                                                                                                                                                                                 | `[]`                                                                   | no       |
| user_pool_add_ons                                              | Configuration block for user pool add-ons to enable user pool advanced security mode features                                                               | `map`                                                                                                                                                                                  | `{}`                                                                     | no       |
| user_pool_add_ons_advanced_security_mode                    | The mode for advanced security, must be one of `OFF`, `AUDIT` or `ENFORCED`                                                                           | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| user_pool_name                                                  | The name of the user pool                                                                                                                                   | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| username_attributes                                              | Specifies whether email addresses or phone numbers can be specified as usernames when a user signs up. Conflicts with `alias_attributes`                 | `list`                                                                                                                                                                                 | n/a                                                                        | yes      |
| verification_message_template                                   | The verification message templates configuration                                                                                                            | `map`                                                                                                                                                                                  | `{}`                                                                     | no       |
| verification_message_template_default_email_option           | The default email option. Must be either `CONFIRM_WITH_CODE` or `CONFIRM_WITH_LINK`. Defaults to `CONFIRM_WITH_CODE`                            | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| verification_message_template_email_message_by_link         | The email message template for sending a confirmation link to the user, it must contain the `{##Click Here##}` placeholder                            | `string`                                                                                                                                                                               | n/a                                                                        | yes      |
| verification_message_template_email_subject_by_link         | The subject line for the email message template for sending a confirmation link to the user                                                                 | `string`                                                                                                                                                                               | n/a                                                                        | yes      |


## Outputs

| Name | Description |
|------|-------------|
| arn | The ARN of the user pool |
| client_ids | The ids of the user pool clients |
| client_secrets | The client secrets of the user pool clients |
| creation_date | The date the user pool was created |
| domain_app_version | The app version |
| domain_aws_account_id | The AWS account ID for the user pool owner |
| domain_cloudfront_distribution_arn | The ARN of the CloudFront distribution |
| domain_s3_bucket | The S3 bucket where the static files for this domain are stored |
| endpoint | The endpoint name of the user pool. Example format: cognito-idp.REGION.amazonaws.com/xxxx_yyyyy |
| id | The id of the user pool |
| last_modified_date | The date the user pool was last modified |
| resource_servers_scope_identifiers | A list of all scopes configured in the format identifier/scope_name |

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;know-issue&quot;&gt;Know issue&lt;/h2&gt;
&lt;h3 id=&quot;removing-all-lambda-triggers&quot;&gt;Removing all lambda triggers&lt;/h3&gt;

&lt;p&gt;If you define lambda triggers using the &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda_config&lt;/code&gt; block or any &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda_config_*&lt;/code&gt; variable and you want to remove all triggers, define the lambda_config block with an empty map &lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt; and apply the plan. Then comment the &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda_config&lt;/code&gt; block or define it as &lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt; and apply the plan again.&lt;/p&gt;

&lt;p&gt;This is needed because all paramters for the &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda_config&lt;/code&gt; block are optional and keeping all block attributes empty or null forces to create a &lt;code class=&quot;highlighter-rouge&quot;&gt;lambda_config {}&lt;/code&gt; block very time a plan/apply is run.&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-cognito-user-pool&quot; target=&quot;_blank&quot;&gt;terraform-aws-cognito-user-pool module at Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/cognito-user-pool/aws/&quot; target=&quot;_blank&quot;&gt;terraform-aws-cognito-user-pool module at Terraform Registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I share here another Terraform module that I just published as open source, which allows you to create Amazon Cognito User Pools with its attributes and resouces such as app clients, domain y resource server.</summary></entry><entry><title type="html">Terraform module for Amazon Elasticsearch Service</title><link href="https://lgallardo.com/2019/10/28/terraform-module-for-amazon-elasticsearch" rel="alternate" type="text/html" title="Terraform module for Amazon Elasticsearch Service" /><published>2019-10-27T19:00:00-05:00</published><updated>2019-10-27T19:00:00-05:00</updated><id>https://lgallardo.com/2019/10/28/terraform-module-for-amazon-elasticsearch</id><content type="html" xml:base="https://lgallardo.com/2019/10/28/terraform-module-for-amazon-elasticsearch">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-elasticsearch.jpg&quot; alt=&quot;terraform-aws-elasticsearch&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I share here another Terraform module that I just published as open source, which allows you to create Amazon Elasticsearch Service clusters. The module is designed following the best practices and principles of the AWS Well-Architected Framework.&lt;/p&gt;

&lt;p&gt;You can check the module &lt;strong&gt;terraform-aws-elasticsearch&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/elasticsearch/aws&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-elasticsearch&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;h1 id=&quot;terraform-aws-elasticsearch&quot;&gt;terraform-aws-elasticsearch&lt;/h1&gt;

&lt;p&gt;Terraform module to create &lt;a href=&quot;https://aws.amazon.com/elasticsearch-service/&quot;&gt;Amazon Elasticsearch Service&lt;/a&gt; clusters, following the Well-Architected Framework and best AWS practices.&lt;/p&gt;

&lt;p&gt;Amazon Elasticsearch Service is a fully managed service that makes it easy to deploy, operate, and scale Elasticsearch clusters in the AWS Cloud. Elasticsearch is a popular open-source search and analytics engine for use cases such as log analytics, real-time application monitoring, and clickstream analysis. With Amazon ES, you get direct access to the Elasticsearch APIs; existing code and applications work seamlessly with the service.&lt;/p&gt;

&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;

&lt;p&gt;Check the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-elasticsearch/tree/master/examples&quot;&gt;examples&lt;/a&gt; folder where you can see how to configure a public ES cluster, and another example showing how to set it with VPC options.&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;You can use this module to create your Amazon ES cluster by defining each parameters blocks as follows:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;aws_es&quot; {

  source = &quot;git::https://github.com/lgallard/terraform-aws-elasticsearch.git&quot;

  domain_name           = &quot;elasticsearch_public&quot;
  elasticsearch_version = &quot;7.1&quot;

  cluster_config = {
    dedicated_master_enabled = &quot;true&quot;
    instance_count           = &quot;3&quot;
    instance_type            = &quot;r5.large.elasticsearch&quot;
    zone_awareness_enabled   = &quot;true&quot;
    availability_zone_count  = &quot;3&quot;
  }

  ebs_options = {
    ebs_enabled = &quot;true&quot;
    volume_size = &quot;25&quot;
  }

  encrypt_at_rest = {
    enabled    = &quot;true&quot;
    kms_key_id = &quot;alias/aws/es&quot;
  }

  log_publishing_options = {
    enabled                  = &quot;true&quot;
    log_type                 = &quot;INDEX_SLOW_LOGS&quot;
  }

  advanced_options = {
    &quot;rest.action.multi.allow_explicit_index&quot; = &quot;true&quot;
  }

  node_to_node_encryption_enabled                = &quot;true&quot;
  snapshot_options_automated_snapshot_start_hour = &quot;23&quot;

  tags = {
    Owner = &quot;sysops&quot;
    env   = &quot;dev&quot;
  }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You can also define the above ElasticSearch cluster using just the module variables. Instead of defining a &lt;code class=&quot;highlighter-rouge&quot;&gt;cluster_config&lt;/code&gt; block (list of map), you can set each of the &lt;code class=&quot;highlighter-rouge&quot;&gt;cluster_config_*&lt;/code&gt; variables, as shown below:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;aws_es&quot; {

  source = &quot;git::https://github.com/lgallard/terraform-aws-elasticsearch.git&quot;

  domain_name           = &quot;elasticsearch_public&quot;
  elasticsearch_version = &quot;7.1&quot;

  cluster_config_dedicated_master_enabled = true
  cluster_config_instance_count           = &quot;3&quot;
  cluster_config_instance_type            = &quot;r5.large.elasticsearch&quot;
  cluster_config_zone_awareness_enabled   = &quot;true&quot;
  cluster_config_availability_zone_count  = &quot;3&quot;

  ebs_options_ebs_enabled = true
  ebs_options_volume_size = &quot;25&quot;

  encrypt_at_rest_enabled    = true
  encrypt_at_rest_kms_key_id = &quot;alias/aws/es&quot;

  log_publishing_options_enabled  = true
  log_publishing_options_log_type = &quot;INDEX_SLOW_LOGS&quot;

  advanced_options = {
    &quot;rest.action.multi.allow_explicit_index&quot; = &quot;true&quot;
  }

  node_to_node_encryption_enabled                = &quot;true&quot;
  snapshot_options_automated_snapshot_start_hour = &quot;23&quot;

  tags = {
    Owner = &quot;sysops&quot;
    env   = &quot;dev&quot;
  }

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;inputs&quot;&gt;Inputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Default&lt;/th&gt;
      &lt;th&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;access_policies&lt;/td&gt;
      &lt;td&gt;IAM policy document specifying the access policies for the domain&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;advanced_options&lt;/td&gt;
      &lt;td&gt;Key-value string pairs to specify advanced configuration options. Note that the values for these configuration options must be strings (wrapped in quotes) or they may be wrong and cause a perpetual diff, causing Terraform to want to recreate your Elasticsearch domain on every apply&lt;/td&gt;
      &lt;td&gt;map(string)&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config&lt;/td&gt;
      &lt;td&gt;Cluster configuration of the domain&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_availability_zone_count&lt;/td&gt;
      &lt;td&gt;Number of Availability Zones for the domain to use with&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;3&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_dedicated_master_count&lt;/td&gt;
      &lt;td&gt;Number of dedicated master nodes in the cluster&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;3&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_dedicated_master_enabled&lt;/td&gt;
      &lt;td&gt;Indicates whether dedicated master nodes are enabled for the cluster&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_dedicated_master_type&lt;/td&gt;
      &lt;td&gt;Instance type of the dedicated master nodes in the cluster&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;r5.large.elasticsearch&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_instance_count&lt;/td&gt;
      &lt;td&gt;Number of instances in the cluster&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;3&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_instance_type&lt;/td&gt;
      &lt;td&gt;Instance type of data nodes in the cluster&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;r5.large.elasticsearch&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cluster_config_zone_awareness_enabled&lt;/td&gt;
      &lt;td&gt;Indicates whether zone awareness is enabled. To enable awareness with three Availability Zones&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cognito_options&lt;/td&gt;
      &lt;td&gt;Options for Amazon Cognito Authentication for Kibana&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cognito_options_enabled&lt;/td&gt;
      &lt;td&gt;Specifies whether Amazon Cognito authentication with Kibana is enabled or not&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cognito_options_identity_pool_id&lt;/td&gt;
      &lt;td&gt;ID of the Cognito Identity Pool to use&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cognito_options_role_arn&lt;/td&gt;
      &lt;td&gt;ARN of the IAM role that has the AmazonESCognitoAccess policy attached&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cognito_options_user_pool_id&lt;/td&gt;
      &lt;td&gt;ID of the Cognito User Pool to use&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;domain_name&lt;/td&gt;
      &lt;td&gt;Name of the domain&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ebs_enabled&lt;/td&gt;
      &lt;td&gt;Whether EBS volumes are attached to data nodes in the domain&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ebs_options&lt;/td&gt;
      &lt;td&gt;EBS related options, may be required based on chosen instance size&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ebs_options_iops&lt;/td&gt;
      &lt;td&gt;The baseline input/output (I/O) performance of EBS volumes attached to data nodes. Applicable only for the Provisioned IOPS EBS volume type&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ebs_options_volume_size&lt;/td&gt;
      &lt;td&gt;The size of EBS volumes attached to data nodes (in GB). Required if ebs_enabled is set to true&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;10&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ebs_options_volume_type&lt;/td&gt;
      &lt;td&gt;The type of EBS volumes attached to data nodes&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;gp2&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;elasticsearch_version&lt;/td&gt;
      &lt;td&gt;The version of Elasticsearch to deploy.&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;7.1&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;encrypt_at_rest&lt;/td&gt;
      &lt;td&gt;Encrypt at rest options. Only available for certain instance types&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;encrypt_at_rest_enabled&lt;/td&gt;
      &lt;td&gt;Whether to enable encryption at rest&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;encrypt_at_rest_kms_key_id&lt;/td&gt;
      &lt;td&gt;The KMS key id to encrypt the Elasticsearch domain with. If not specified then it defaults to using the aws/es service KMS key&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;alias/aws/es&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;log_publishing_options&lt;/td&gt;
      &lt;td&gt;Options for publishing slow logs to CloudWatch Logs&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;log_publishing_options_cloudwatch_log_group_arn&lt;/td&gt;
      &lt;td&gt;iARN of the Cloudwatch log group to which log needs to be published&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;log_publishing_options_enabled&lt;/td&gt;
      &lt;td&gt;Specifies whether given log publishing option is enabled or not&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;log_publishing_options_log_type&lt;/td&gt;
      &lt;td&gt;A type of Elasticsearch log. Valid values: INDEX_SLOW_LOGS, SEARCH_SLOW_LOGS, ES_APPLICATION_LOGS&lt;/td&gt;
      &lt;td&gt;string&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;INDEX\_SLOW\_LOGS&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;node_to_node_encryption&lt;/td&gt;
      &lt;td&gt;Node-to-node encryption options&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;node_to_node_encryption_enabled&lt;/td&gt;
      &lt;td&gt;Whether to enable node-to-node encryption&lt;/td&gt;
      &lt;td&gt;bool&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;snapshot_options&lt;/td&gt;
      &lt;td&gt;Snapshot related options&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;snapshot_options_automated_snapshot_start_hour&lt;/td&gt;
      &lt;td&gt;Hour during which the service takes an automated daily snapshot of the indices in the domain&lt;/td&gt;
      &lt;td&gt;number&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;A mapping of tags to assign to the resource&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_options&lt;/td&gt;
      &lt;td&gt;VPC related options, see below. Adding or removing this configuration forces a new resource&lt;/td&gt;
      &lt;td&gt;map&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_options_security_group_ids&lt;/td&gt;
      &lt;td&gt;List of VPC Security Group IDs to be applied to the Elasticsearch domain endpoints. If omitted, the default Security Group for the VPC will be used&lt;/td&gt;
      &lt;td&gt;list&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_options_subnet_ids&lt;/td&gt;
      &lt;td&gt;List of VPC Subnet IDs for the Elasticsearch domain endpoints to be created in&lt;/td&gt;
      &lt;td&gt;list&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;outputs&quot;&gt;Outputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;arn&lt;/td&gt;
      &lt;td&gt;Amazon Resource Name (ARN) of the domain&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;domain_id&lt;/td&gt;
      &lt;td&gt;Unique identifier for the domain&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;endpoint&lt;/td&gt;
      &lt;td&gt;Domain-specific endpoint used to submit index, search, and data upload requests&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;kibana_endpoint&lt;/td&gt;
      &lt;td&gt;Domain-specific endpoint for kibana without https scheme&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_options_availability_zones&lt;/td&gt;
      &lt;td&gt;If the domain was created inside a VPC, the names of the availability zones the configured subnet_ids were created inside&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vpc_options_vpc_id&lt;/td&gt;
      &lt;td&gt;If the domain was created inside a VPC, the ID of the VPC&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-elasticsearch&quot; target=&quot;_blank&quot;&gt;terraform-aws-elastichsearch module at Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/elasticsearch/aws/&quot; target=&quot;_blank&quot;&gt;terraform-aws-elasticsearch module at Terraform Registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I share here another Terraform module that I just published as open source, which allows you to create Amazon Elasticsearch Service clusters. The module is designed following the best practices and principles of the AWS Well-Architected Framework.</summary></entry><entry><title type="html">Terraform module for AWS Backup</title><link href="https://lgallardo.com/2019/10/18/terraform-module-for-aws-backup" rel="alternate" type="text/html" title="Terraform module for AWS Backup" /><published>2019-10-17T19:00:00-05:00</published><updated>2019-10-17T19:00:00-05:00</updated><id>https://lgallardo.com/2019/10/18/terraform-module-for-aws-backup</id><content type="html" xml:base="https://lgallardo.com/2019/10/18/terraform-module-for-aws-backup">&lt;center&gt;&lt;img src=&quot;/images/terraform-aws-backup-terraform-registry.jpg&quot; alt=&quot;Terraform&quot; /&gt;&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;
I just published my first open-sourced Terraform module called &lt;strong&gt;terraform-aws-backup&lt;/strong&gt; at Github, so I decided to share it as well in the public Terraform Registry.&lt;/p&gt;

&lt;p&gt;You can check my module &lt;strong&gt;terraform-aws-backup&lt;/strong&gt; at the &lt;a href=&quot;https://registry.terraform.io/modules/lgallard/backup/aws&quot; target=&quot;_blank&quot;&gt;Terraform Registry&lt;/a&gt; or clone it from &lt;a href=&quot;https://github.com/lgallard/terraform-aws-backup.git&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you want to take a sneak of the module, I also left the README in this post:&lt;/p&gt;

&lt;h1 id=&quot;terraform-aws-backup&quot;&gt;terraform-aws-backup&lt;/h1&gt;

&lt;p&gt;Terraform module to create &lt;a href=&quot;https://aws.amazon.com/backup/&quot; target=&quot;_blank&quot;&gt;AWS Backup&lt;/a&gt; plans.  AWS Backup is a fully managed backup service that makes it easy to centralize and automate the back up of data across AWS services (EBS volumes, RDS databases, DynamoDB tables, EFS file systems, and Storage Gateway volumes).&lt;/p&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;You can use this module to create a simple plan using the module’s &lt;code class=&quot;highlighter-rouge&quot;&gt;rule_*&lt;/code&gt; variables. You can also  use the &lt;code class=&quot;highlighter-rouge&quot;&gt;rules&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;selections&lt;/code&gt; list of maps variables to build a more complete plan by defining several rules and selections at once.&lt;/p&gt;

&lt;p&gt;Check the &lt;a href=&quot;https://github.com/lgallard/terraform-aws-backup/tree/master/examples&quot; target=&quot;_blank&quot;&gt;examples&lt;/a&gt; for the  &lt;strong&gt;simple plan&lt;/strong&gt;, the &lt;strong&gt;simple plan with list&lt;/strong&gt; and the &lt;strong&gt;complete plan&lt;/strong&gt; snippets.&lt;/p&gt;

&lt;h3 id=&quot;example-complete-plan&quot;&gt;Example (complete plan)&lt;/h3&gt;

&lt;p&gt;This example creates a plan with two rules and two selections at once. It also defines a vault key which is used by the first rule because no &lt;code class=&quot;highlighter-rouge&quot;&gt;target_vault_name&lt;/code&gt; was given (null). Whereas the second rule is using the “Default” vault key.&lt;/p&gt;

&lt;p&gt;The first selection has two assignments, the first defined by a resource ARN and the second one defined by a tag condition. The second selection has just one assignment defined by a resource ARN.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module &quot;aws_backup_example&quot; {

  source = &quot;../modules/terraform-aws-backup&quot;

  # Vault
  vault_name = &quot;vault-3&quot;

  # Plan
  plan_name = &quot;complete-plan&quot;

  # Multiple rules using a list of maps
  rules = [
    {
      name              = &quot;rule-1&quot;
      schedule          = &quot;cron(0 12 * * ? *)&quot;
      target_vault_name = null
      start_window      = 120
      completion_window = 360
      lifecycle = {
        cold_storage_after = 0
        delete_after       = 90
      },
      recovery_point_tags = {
        Environment = &quot;production&quot;
      }
    },
    {
      name                = &quot;rule-2&quot;
      target_vault_name   = &quot;Default&quot;
      schedule            = null
      start_window        = 120
      completion_window   = 360
      lifecycle           = {}
      recovery_point_tags = {}
    },
  ]

  # Multiple selections
  #  - Selection-1: By resources and tag
  #  - Selection-2: Only by resources
  selections = [
    {
      name      = &quot;selection-1&quot;
      resources = [&quot;arn:aws:dynamodb:us-east-1:123456789101:table/mydynamodb-table1&quot;]
      selection_tag = {
        type  = &quot;STRINGEQUALS&quot;
        key   = &quot;Environment&quot;
        value = &quot;production&quot;
      }
    },
    {
      name          = &quot;selection-2&quot;
      resources     = [&quot;arn:aws:dynamodb:us-east-1:123456789101:table/mydynamodb-table2&quot;]
      selection_tag = {}
    },
  ]

  tags = {
    Owner       = &quot;backup team&quot;
    Environment = &quot;production&quot;
    Terraform   = true
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;inputs&quot;&gt;Inputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Default&lt;/th&gt;
      &lt;th&gt;Required&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;plan_name&lt;/td&gt;
      &lt;td&gt;The display name of a backup plan&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_completion_window&lt;/td&gt;
      &lt;td&gt;The amount of time AWS Backup attempts a backup before canceling the job and returning an error&lt;/td&gt;
      &lt;td&gt;`number`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_lifecycle_cold_storage_after&lt;/td&gt;
      &lt;td&gt;Specifies the number of days after creation that a recovery point is moved to cold storage&lt;/td&gt;
      &lt;td&gt;`number`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_lifecycle_delete_after&lt;/td&gt;
      &lt;td&gt;Specifies the number of days after creation that a recovery point is deleted. Must be 90 days greater than `cold_storage_after`&lt;/td&gt;
      &lt;td&gt;`number`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_name&lt;/td&gt;
      &lt;td&gt;An display name for a backup rule&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_recovery_point_tags&lt;/td&gt;
      &lt;td&gt;Metadata that you can assign to help organize the resources that you create&lt;/td&gt;
      &lt;td&gt;`map(string)`&lt;/td&gt;
      &lt;td&gt;`{}`&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_schedule&lt;/td&gt;
      &lt;td&gt;A CRON expression specifying when AWS Backup initiates a backup job&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rule_start_window&lt;/td&gt;
      &lt;td&gt;The amount of time in minutes before beginning a backup&lt;/td&gt;
      &lt;td&gt;`number`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;rules&lt;/td&gt;
      &lt;td&gt;A list of rule maps&lt;/td&gt;
      &lt;td&gt;`list`&lt;/td&gt;
      &lt;td&gt;`[]`&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selection_name&lt;/td&gt;
      &lt;td&gt;The display name of a resource selection document&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selection_resources&lt;/td&gt;
      &lt;td&gt;An array of strings that either contain Amazon Resource Names (ARNs) or match patterns of resources to assign to a backup plan&lt;/td&gt;
      &lt;td&gt;`list`&lt;/td&gt;
      &lt;td&gt;`[]`&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selection_tag_key&lt;/td&gt;
      &lt;td&gt;The key in a key-value pair&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selection_tag_type&lt;/td&gt;
      &lt;td&gt;An operation, such as StringEquals, that is applied to a key-value pair used to filter resources in a selection&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selection_tag_value&lt;/td&gt;
      &lt;td&gt;The value in a key-value pair&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;selections&lt;/td&gt;
      &lt;td&gt;A list of selction maps&lt;/td&gt;
      &lt;td&gt;`list`&lt;/td&gt;
      &lt;td&gt;`[]`&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;tags&lt;/td&gt;
      &lt;td&gt;A mapping of tags to assign to the resource&lt;/td&gt;
      &lt;td&gt;`map(string)`&lt;/td&gt;
      &lt;td&gt;`{}`&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vault_kms_key_arn&lt;/td&gt;
      &lt;td&gt;The server-side encryption key that is used to protect your backups&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vault_name&lt;/td&gt;
      &lt;td&gt;Name of the backup vault to create. If not given, AWS use default&lt;/td&gt;
      &lt;td&gt;`string`&lt;/td&gt;
      &lt;td&gt;n/a&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;outputs&quot;&gt;Outputs&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;plan_arn&lt;/td&gt;
      &lt;td&gt;The ARN of the backup plan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;plan_id&lt;/td&gt;
      &lt;td&gt;The id of the backup plan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;plan_version&lt;/td&gt;
      &lt;td&gt;Unique, randomly generated, Unicode, UTF-8 encoded string that serves as the version ID of the backup plan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vault_arn&lt;/td&gt;
      &lt;td&gt;The ARN of the vault&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;vault_id&lt;/td&gt;
      &lt;td&gt;The name of the vault&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;known-issues&quot;&gt;Known issues&lt;/h2&gt;

&lt;p&gt;During the developing of the module I found some issues reported to the The AWS provider:&lt;/p&gt;

&lt;h3 id=&quot;related-backup-plan-selections-must-be-deleted-prior-to-backup-plan-deletion&quot;&gt;Related backup plan selections must be deleted prior to backup plan deletion&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ terraform destroy
...
module.aws_backup_example.aws_iam_policy.ab_tag_policy: Destruction complete after 2s
module.aws_backup_example.aws_iam_role.ab_role: Destruction complete after 1s

Error: error deleting Backup Plan: InvalidRequestException: Related backup plan selections must be deleted prior to backup plan deletion
	status code: 400, request id: 4a6637c8-2d46-4714-9929-4df3f694979b

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When trying to destroy a plan, terraform complains about deleting the selections first, even though terraform tries to delete them in the right order:&lt;/p&gt;

&lt;p&gt;This issue was reported as &lt;a href=&quot;https://github.com/terraform-providers/terraform-provider-aws/issues/10414&quot; target=&quot;_blank&quot;&gt;&lt;em&gt;Backup Plan deletion fails randomly&lt;/em&gt;&lt;/a&gt; for the AWS Provider.&lt;/p&gt;

&lt;p&gt;This happens because thee AWS provider tries to delete the plan without waiting for the selections destroyal confirmation.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Workaround:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I included and script in the examples that destroys the selections first and then destroys the plan:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; cat terraform_destroy_aws_backup.sh

 #!/bin/sh
targets=&quot;&quot;
for i in `terraform state list | grep &quot;selection&quot;`; do targets=&quot;${targets} --target=${i}&quot;; done

# Destroy selections
terraform destroy ${targets}

# Destroy all
terraform destroy

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;error-creating-backup-selection-iam-role-is-not-authorized-to-call-taggetresources&quot;&gt;Error creating Backup Selection: IAM Role is not authorized to call tag:GetResources&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Error: error creating Backup Selection: InvalidParameterValueException: IAM Role arn:aws:iam::111111111111:role/aws-backup-plan-complete-plan-role is not authorized to call tag:GetResources
	status code: 400, request id: 07ab775d-8885-4240-bb99-41305df969e0

  on .terraform/modules/aws_backup_example/selection.tf line 1, in resource &quot;aws_backup_selection&quot; &quot;ab_selection&quot;:
   1: resource &quot;aws_backup_selection&quot; &quot;ab_selection&quot; {
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This issue was reported as &lt;a href=&quot;https://github.com/terraform-providers/terraform-provider-aws/issues/10511&quot; target=&quot;_blank&quot;&gt;aws_backup_selection.selection: error creating Backup Selection: InvalidParameterValueException&lt;/a&gt; for the AWS Provider.&lt;/p&gt;

&lt;p&gt;I faced this when applying and destroying the same plan several times, for instance when I ws developing the module.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Workaround:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I couldn’t find any workaround for this. Just destroy all wait some time and apply again.&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lgallard/terraform-aws-backup.git&quot; target=&quot;_blank&quot;&gt;terraform-aws-backup module at Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://registry.terraform.io/modules/lgallard/backup/aws&quot; target=&quot;_blank&quot;&gt;terraform-aws-backup module at Terraform Registry&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Luis Gallardo</name></author><category term="AWS" /><category term="Terraform" /><summary type="html">I just published my first open-sourced Terraform module called terraform-aws-backup at Github, so I decided to share it as well in the public Terraform Registry.</summary></entry></feed>